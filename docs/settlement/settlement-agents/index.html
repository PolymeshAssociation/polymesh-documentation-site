<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-settlement/settlement-external-agents" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.1.1">
<title data-rh="true">External Agents | Polymesh Documentation Portal</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://polymeshassociation.github.io/polymesh-documentation-site/docs/settlement/settlement-agents/"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="External Agents | Polymesh Documentation Portal"><meta data-rh="true" name="description" content="External Agents and Access Control in Polymesh"><meta data-rh="true" property="og:description" content="External Agents and Access Control in Polymesh"><link data-rh="true" rel="icon" href="/polymesh-documentation-site/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://polymeshassociation.github.io/polymesh-documentation-site/docs/settlement/settlement-agents/"><link data-rh="true" rel="alternate" href="https://polymeshassociation.github.io/polymesh-documentation-site/docs/settlement/settlement-agents/" hreflang="en"><link data-rh="true" rel="alternate" href="https://polymeshassociation.github.io/polymesh-documentation-site/docs/settlement/settlement-agents/" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://K25SRS7O1D-dsn.algolia.net" crossorigin="anonymous"><link rel="preconnect" href="https://www.googletagmanager.com">
<script>window.dataLayer=window.dataLayer||[]</script>
<script>!function(e,t,a,n,g){e[n]=e[n]||[],e[n].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});var m=t.getElementsByTagName(a)[0],r=t.createElement(a);r.async=!0,r.src="https://www.googletagmanager.com/gtm.js?id=GTM-TB6Q6MQ",m.parentNode.insertBefore(r,m)}(window,document,"script","dataLayer")</script>


<link rel="search" type="application/opensearchdescription+xml" title="Polymesh Documentation Portal" href="/polymesh-documentation-site/opensearch.xml"><link rel="stylesheet" href="/polymesh-documentation-site/assets/css/styles.23687303.css">
<script src="/polymesh-documentation-site/assets/js/runtime~main.308980d4.js" defer="defer"></script>
<script src="/polymesh-documentation-site/assets/js/main.2fc46cbb.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-TB6Q6MQ" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>

<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/polymesh-documentation-site/"><div class="navbar__logo"><img src="/polymesh-documentation-site/img/logo.svg" alt="Polymesh Logo" class="themedComponent_mlkZ themedComponent--light_NVdE" width="150px"><img src="/polymesh-documentation-site/img/logo.svg" alt="Polymesh Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU" width="150px"></div><b class="navbar__title text--truncate"></b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/polymesh-documentation-site/docs/">Developer Docs</a><a class="navbar__item navbar__link" href="/polymesh-documentation-site/polymesh-docs/">Polymesh Docs</a><a class="navbar__item navbar__link" href="/polymesh-documentation-site/sdk-docs/">SDK API Docs</a><div class="navbar__item dropdown dropdown--hoverable"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/polymesh-documentation-site/sdk-docs/">24.1.x</a><ul class="dropdown__menu"><li><div>SDK Docs Version</div></li><li><a class="dropdown__link" href="/polymesh-documentation-site/sdk-docs/">24.1.x</a></li><li><a class="dropdown__link" href="/polymesh-documentation-site/sdk-docs/23.0.x/">23.0.x</a></li><li><a class="dropdown__link" href="/polymesh-documentation-site/sdk-docs/22.1.x/">22.1.x</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Rust Docs</a><ul class="dropdown__menu"><li><a href="https://docs.polymesh.live/polymesh" target="_blank" rel="noopener noreferrer" class="dropdown__link">Polymesh Runtime<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://private-docs.polymesh.live/polymesh_private" target="_blank" rel="noopener noreferrer" class="dropdown__link">Polymesh Private Runtime<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://docs.rs/polymesh-api/latest/polymesh_api/" target="_blank" rel="noopener noreferrer" class="dropdown__link">Polymesh Client API<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://docs.rs/polymesh-ink/latest/polymesh_ink/" target="_blank" rel="noopener noreferrer" class="dropdown__link">ink! Contracts API<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="navbar__items navbar__items--right"><a href="https://github.com/PolymeshAssociation" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/polymesh-documentation-site/docs/">Welcome to the Polymesh Documentation Site!</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/polymesh-documentation-site/docs/introduction/">Introduction</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/polymesh-documentation-site/docs/quickstart/up-in-ten-minutes/">Quick Start</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/polymesh-documentation-site/docs/originate/creating-asset/">Originate an Asset</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/polymesh-documentation-site/docs/distribute/distributing-assets/">Distributing an Assets</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/polymesh-documentation-site/docs/settlement/transferring-assets/">Settlement</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/polymesh-documentation-site/docs/settlement/transferring-assets/">Transferring Assets</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/polymesh-documentation-site/docs/settlement/settlement-process/">Settlement Process</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/polymesh-documentation-site/docs/settlement/with-dashboard/">Polymesh App Portal</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/polymesh-documentation-site/docs/settlement/settlement-agents/">External Agents</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/polymesh-documentation-site/docs/settlement/sdk/">With the SDK</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/polymesh-documentation-site/docs/actions/">Corporate Actions</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/polymesh-documentation-site/docs/kyc/kyc/">KYC and CDD on Polymesh</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/polymesh-documentation-site/docs/resources/github-repositories/">Resources</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/polymesh-documentation-site/docs/community/">Community</a></div></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/polymesh-documentation-site/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Settlement</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">External Agents</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>External Agents</h1></header><p>It is common for issuers of regulated securities to delegate certain responsibilities to specialized service providers. For example, ACME may want that a specialist publishes documentation related to the security token.</p>
<p>In Polymesh, <strong>external agents</strong> and <strong>agent groups</strong>, with granular permissions, assist with representing the contractual relationships with these parties. The external agents module provides extrinsics to manage:</p>
<ul>
<li>The set of agents for an asset,</li>
<li>The group agents belong to, and</li>
<li>The permissions a group gives an agent.</li>
</ul>
<p>By providing functions to allow for managing the external agents of an asset, adding and altering custom agent groups, and ensuring sufficient permissions of an agent for an extrinsic. The following dispatchable functions are available:</p>
<ul>
<li><code>create_group</code>: Creates a custom agent group (CAG) with certain permissions for an asset;</li>
<li><code>set_group_permissions</code>: Changes the permissions of a CAG for an asset;</li>
<li><code>change_group</code>: Changes the agent group an asset belongs to;</li>
<li><code>remove_agent</code>: Removes an agent from an asset;</li>
<li><code>acceptBecomeAgent</code>: Accept an authorization to become an agent of the account that issued <code>auth_id</code> and to also become an agent of the ticker the account specified.</li>
<li><code>abdicate</code>: Removes the caller as an agent from an asset.</li>
</ul>
<p>The extrinsics of the external agents module can be split into:</p>
<ul>
<li>Managing groups: <code>create_group</code> and <code>set_group_permissions</code>, and</li>
<li>Managing agents: <code>remove_agent</code>, <code>abdicate</code>, <code>change_group</code> and <code>acceptBecomeAgent</code>, and hooks for the identity module to enable adding agents.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="default-configuration">Default configuration<a href="#default-configuration" class="hash-link" aria-label="Direct link to Default configuration" title="Direct link to Default configuration">​</a></h2>
<p>If you have been following along by reading the previous chapters and sections, Alice issued a security token and then transferred ownership to ACME. Behind the scenes, Alice and then ACME were given <strong>Full</strong> permission. In Polymesh version 1 (V1), <strong>two distinct permissions</strong> were granted:</p>
<ul>
<li><strong>Primary issuance agent (PIA):</strong> ACME needed this permission to perform the minting operation;</li>
<li><strong>Corporate actions agent (CAA):</strong> Needed for activities such as dividend distributions.</li>
</ul>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_BuS1"><p>For more information on the corporate actions agent and corporate actions in general, take another look at the previous chapter on <a href="/polymesh-documentation-site/docs/actions/">Executing Actions: Corporate actions on Polymesh</a>.</p></div></div>
<p>Version 2 (V2, the most current version at the time of writing) models the roles of PIA and CAA in a new, more granular permission system. By default, the asset creator and owner has <em>Full</em> permission. Thus, ACME has full permission over the ACME token by default.</p>
<p>The permission system is <em>not surfaced in the Token Studio</em>. It is explored and configured via the <a href="https://mainnet-app.polymesh.network/" target="_blank" rel="noopener noreferrer">Polymesh App</a> or the SDK. This helps reduce complexity at the Token Studio level.</p>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_BuS1"><p>V1 functionality can be replicated in V2 by assigning an agent to the PolymeshV1CAA (corporate actions agent) group or PolymeshV1PIA (primary issuance agent) group. In the <a href="https://mainnet-app.polymesh.network/" target="_blank" rel="noopener noreferrer">Polymesh App</a>, navigate to <code>Developer</code> =&gt; <code>Extrinsics</code> then select <code>externalAgents</code>. Use the extrinsic <code>changeGroup(ticker, agent, group)</code> to set the desired group for an existing agent.</p></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="permissions-extrinsics-pallets-and-groups">Permissions: Extrinsics, pallets, and groups<a href="#permissions-extrinsics-pallets-and-groups" class="hash-link" aria-label="Direct link to Permissions: Extrinsics, pallets, and groups" title="Direct link to Permissions: Extrinsics, pallets, and groups">​</a></h2>
<p>Agents are assigned to agent groups from which they derive their permissions for a given asset. As you might have guessed, <strong>an agent group</strong> <em>defines a set of permissions granted to members</em>. Each asset can have one or more agent groups but each agent can only be assigned to a single group for that asset. There is always at least one user with full permission as the system prevents the removal of the last user with full permission. Initially, the asset creator has full permission by default.</p>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_BuS1"><p>The last full agent cannot leave or abdicate before another ID is added as an agent with full permissions. This default avoids an asset not having an agent with all permissions, i.e. not being managed because of missing permissions and agents.</p></div></div>
<p>In practice, ACME will grant minimal permission to external agents (or internal staff) so that agents can execute their duties while at the same time it cannot stray into sensitive areas where the agent should not be engaged.</p>
<p>For convenience, permissions can be defined as:</p>
<ul>
<li>Full: Everything;</li>
<li>These: Only these;</li>
<li>Except: Everything except these.</li>
</ul>
<p>The system is hierarchical. The default full permission simply includes all pallets and all extrinsics. A documentation permission, for example, might be defined as:</p>
<ul>
<li>These: Only the <code>Asset</code> pallet;</li>
<li>These: Only the <code>add_document</code> and <code>remove_document</code> extrinsics.</li>
</ul>
<p>ACME would then assign an account, the external agent, to such an agent group to allow the responsible agent to maintain the documentation related to an asset and nothing more.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="explore">Explore<a href="#explore" class="hash-link" aria-label="Direct link to Explore" title="Direct link to Explore">​</a></h2>
<p>ACME was created with the default full permission agent group. We can see that in the Polymesh App under the <code>Developer</code> tab <code>Chain state</code>.</p>
<p><img decoding="async" loading="lazy" alt="Chain State in Polymesh App" src="/polymesh-documentation-site/assets/images/exploreChainState-e3577138b4017bf01f53bd8b769392fc.png" width="1000" height="240" class="img_ev3q"></p>
<p>The <code>externalAgents</code> pallet query called <code>groupOfAgent(Ticker, IdentityId): Option&lt;AgentGroup&gt;</code> returns the agents mapped to a ticker.</p>
<p>Here we can see that ACME has one agent, the agent with full permission. The agent is the ACME Corp account. The ticker input field for the call is the symbol &quot;ACME&quot; in hexadecimal (0x41434d450000000000000000).</p>
<p>The query can optionally be further refined to filter specific agent identities and return only the group they are associated with, meaning with a certain set of permissions.</p>
<p><img decoding="async" loading="lazy" alt="Explore Agent Groups" src="/polymesh-documentation-site/assets/images/exploreTokenAgentGroups-b4a3466e06fc441b8feb662ceb69d257.png" width="1006" height="516" class="img_ev3q"></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="create-a-permission-group">Create a permission group<a href="#create-a-permission-group" class="hash-link" aria-label="Direct link to Create a permission group" title="Direct link to Create a permission group">​</a></h2>
<p>Recall that <strong>permissions are defined by including or excluding pallets and extrinsic</strong>. Pallets encompass activities and extrinsics are discrete actions.</p>
<p>For example, the <code>capitalDistribution</code> pallet contains granular transaction types:</p>
<p><img decoding="async" loading="lazy" alt="Pallet Extrinsics" src="/polymesh-documentation-site/assets/images/palletExtrinsics-bc6f96dae239845e964b68dcd5c869b9.png" width="1188" height="404" class="img_ev3q"></p>
<p>These can be granted or revoked in whole or in part using an agent group. A conveniently formatted list of all available pallets and extrinsics, along with descriptions, can found in the <a href="https://polymesh.subscan.io/runtime/" target="_blank" rel="noopener noreferrer">Subscan Polymesh blockchain explorer</a> or retrieved directly from the chain using the Polymesh App under the <code>Developer</code> tab <code>RPC calls</code> using the <code>state</code>, <code>getMetadata</code> method.</p>
<p>Let us suppose that we want to create an agent group for an external party that will maintain the corporate documents <em>and nothing else</em>.</p>
<ol>
<li>Navigate to the <code>externalAgents</code> pallet and <code>createGroup(ticker, perms)</code> extrinsic.</li>
<li>Use the ACME Corp account, the owner of the asset, since that account will be the only account with permission to do this unless you have already experimented with permissions.</li>
<li>Input the ticker symbol. At the time of writing, this is required to be in hexadecimal format, which you can get from the query above. It should be 12 bytes long with trailing zeroes.</li>
<li>Create the permissions defined as:<!-- -->
<ul>
<li><em>ExtrinsicPermission</em>: These - to indicate we will define pallets to configure permissions for;</li>
<li><em>PalletName</em>: <code>Asset</code> - the pallet containing the extrinsics to define permissions for. The pallet name must be written in UpperCamelCase;</li>
<li><em>DispatchableNames</em>: These - to indicate we will define permissions for specific actions;</li>
<li><em>DispatchableName</em>: <code>add_documents</code> and <code>remove_documents</code> - the two activities that will be permissible for members of this group. The dispatchable name must be written in snake_case.</li>
</ul>
</li>
</ol>
<p>Submit the transaction and the new agent group is created.</p>
<p><img decoding="async" loading="lazy" alt="Documentation Agent Group" src="/polymesh-documentation-site/assets/images/documentAgentGroup-ed5b08301b5cc7c2e3919fb8910ab2d9.png" width="1143" height="947" class="img_ev3q"></p>
<p>Review the <code>GroupCreated</code> event in a the blockchain explorer for the submitted transaction to identify the assigned group ID or navigate to <code>Chain state</code> under the <code>Developer</code> tab and then select <code>externalAgents</code> and use the <code>aGIdSequence</code> call to identify the most recently created agent group ID. Configured permissions for the group ID can be viewed using the <code>groupPermissions</code> call.</p>
<p><img decoding="async" loading="lazy" alt="Group Permissions" src="/polymesh-documentation-site/assets/images/groupPermissions-3359d393f8d21f1590534d54116d3033.png" width="1253" height="572" class="img_ev3q"></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="assign-an-account-to-an-agent-group">Assign an account to an agent group<a href="#assign-an-account-to-an-agent-group" class="hash-link" aria-label="Direct link to Assign an account to an agent group" title="Direct link to Assign an account to an agent group">​</a></h2>
<p>Once a custom agent group has been defined lets say we now want Alice, or someone else, to maintain the asset&#x27;s documentation. Before we do this we need to assign the custom group to the external agent to allow them access to the token extrinsics configured in the <code>groupPermissions</code>. As with other authorizations this is done using the <code>identity</code> pallet <code>addAuthorization</code> extrinsic.</p>
<ol>
<li>Navigate to the <code>identity</code> pallet and <code>addAuthorization(target, data, expiry)</code> extrinsic.</li>
<li>Use the ACME Corp account, the owner of the asset, since that account will be the only account with permission to do this unless you have already experimented with permissions.</li>
<li>Input the DID for the external agent (dding authorization for an external agent only accepts an identity and not an account).</li>
<li>Under data: <code>AuthorizationData</code> select <code>BecomeAgent</code></li>
<li>Input the ticker symbol as previously used (in hexadecimal format, 12 bytes long with trailing zeroes if required).</li>
<li>Finally select <code>Custom</code> for the agent group and enter the number for the group ID previously created. If you have been following along and created an agent group for the asset&#x27;s documentation as the first custom permission group for your token set the Custom: AGId to 1. For example, let Alice, or someone else, maintain the asset&#x27;s documentation.</li>
</ol>
<p>Submit the transaction and the authorization request is created.</p>
<p><img decoding="async" loading="lazy" alt="Add authorization Become Agent" src="/polymesh-documentation-site/assets/images/addAuthorizationBecomeAgent-04a32681f84c8393f2b02f1b5c930a97.png" width="1134" height="898" class="img_ev3q"></p>
<p>In addition to the <strong>Custom</strong> agent group, just created, there are several predefined agent groups:</p>
<ul>
<li><strong>Full:</strong> The account can be given full permission;</li>
<li><strong>ExceptMeta:</strong> Everything except the external agents pallet;</li>
<li><strong>PolymeshV1CAA:</strong> Used to replicate the permission scheme for a corporate actions agent (CAA) in Polymesh&#x27;s version 1 (V1);</li>
<li><strong>PolymeshV1PIA:</strong> Used to replicate the permission scheme for a primary issuance agent (PIA) in Polymesh version 1 (V1).</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="accept-permission-and-abdication">Accept permission and abdication<a href="#accept-permission-and-abdication" class="hash-link" aria-label="Direct link to Accept permission and abdication" title="Direct link to Accept permission and abdication">​</a></h2>
<p>As with other aspects of the system, Polymesh recognizes that an agent may not accept the responsibilities that come with being assigned to an agent group. It is therefore a <strong>two-stage process</strong>.</p>
<p>Before an agent accepts membership of the permission group for the token, they must first determine the authorization ID they wish to accept and should review the details of the request. The authorization ID can be found in the event outputs of the transaction used to create the authorization using a blockchain explorer. Alternatively the agent can view a list of pending authorizations for their identity by navigating to the <code>Developer</code> tab, <code>Chain state</code> in the Polymesh App. Select the <code>identity</code> pallet, <code>authorizations</code> call and inputting their identity ID.</p>
<p><img decoding="async" loading="lazy" alt="Pending Authorizations" src="/polymesh-documentation-site/assets/images/exploreAuthorizations-13c3c171de31a22330f6179a25652fcd.png" width="1254" height="770" class="img_ev3q"></p>
<p>The permissions associated with the shown Custom group ID can be viewed using the externalAgents <code>groupPermissions</code> call, previously described. An agent accepts membership by navigating to <code>Extrinsics</code> under the <code>Developer</code> tab, and selecting <code>externalAgents</code> and <code>acceptBecomeAgent(auth_id)</code> and inputting the previously identified authorization ID. Should the agent not want to accept the authorization they can reject it using the <code>removeAuthorization</code> extrinsic from the identity pallet.</p>
<p><strong>Note: When accepting to become an agent, your acceptance is not tied to the specific permission group at the time of acceptance. Permissions may be altered, by the token owner or external agent with permissions for the externalAgents pallet, without the need to subsequently reconfirm acceptance.</strong></p>
<p>An agent may also self-demote (i.e. leave the agent group) by navigating to <code>Extrinsics</code> under the <code>Developer</code> tab, and select <code>externalAgents</code> and <code>abdicate(ticker)</code>. Abdicating is not unconditional. The last member with full permission is not permitted to abdicate.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="summary">Summary<a href="#summary" class="hash-link" aria-label="Direct link to Summary" title="Direct link to Summary">​</a></h2>
<p>Polymesh offers granular permission at the transaction type and user level. These facilitate the creation of strictly enforced rules that directly map contractual relationships between the asset owner and its business partners.</p>
<p>There is always at least one account with full permission and the system does not permit the removal of the last account with full permission. This helps prevent situations in which the owner could inadvertently lock themselves out of the permission management.</p>
<p>Agent groups are used to describe functional requirements and access privileges and assign users to agent groups.</p>
<p>When a user creates an asset with the Token Studio, that user automatically receives full permission.</p>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_BuS1"><p>Permissions hold when token ownership is transferred. In order to transfer ownership of a token to a new identity they need to first be made an agent of that token. Previous owner permissions are <strong>not</strong> automatically removed. Therefore, managing external agent permission is a key part of the ownership transfer process.</p></div></div>
<p>The full granularity of the permission system is not exposed through the Token Studio. Use the Polymesh App and/or the SDK to configure agent groups, permissions, and members.</p>
<p>The V1 agent types, primary issuance agent (PIA) and corporate actions agent (CAA), are replicated as built-in agent groups.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/PolymeshAssociation/polymesh-documentation-site/edit/develop/docs/05-settlement/settlement-external-agents.mdx" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/polymesh-documentation-site/docs/settlement/with-dashboard/"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Polymesh App Portal</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/polymesh-documentation-site/docs/settlement/sdk/"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">With the SDK</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#default-configuration" class="table-of-contents__link toc-highlight">Default configuration</a></li><li><a href="#permissions-extrinsics-pallets-and-groups" class="table-of-contents__link toc-highlight">Permissions: Extrinsics, pallets, and groups</a></li><li><a href="#explore" class="table-of-contents__link toc-highlight">Explore</a></li><li><a href="#create-a-permission-group" class="table-of-contents__link toc-highlight">Create a permission group</a></li><li><a href="#assign-an-account-to-an-agent-group" class="table-of-contents__link toc-highlight">Assign an account to an agent group</a></li><li><a href="#accept-permission-and-abdication" class="table-of-contents__link toc-highlight">Accept permission and abdication</a></li><li><a href="#summary" class="table-of-contents__link toc-highlight">Summary</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/polymesh-documentation-site/docs/introduction/">Developer Docs</a></li><li class="footer__item"><a class="footer__link-item" href="/polymesh-documentation-site/polymesh-docs/#network">Network Docs</a></li><li class="footer__item"><a class="footer__link-item" href="/polymesh-documentation-site/polymesh-docs/#primitives">Polymesh Primitive Docs</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://discord.gg/ud2deWAnyt" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/PolymeshNetwork" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.linkedin.com/company/polymeshnetwork/" target="_blank" rel="noopener noreferrer" class="footer__link-item">LinkedIn<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.youtube.com/c/PolymeshNetwork" target="_blank" rel="noopener noreferrer" class="footer__link-item">YouTube<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://polymesh.network/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Polymesh Website<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://polymesh.network/blog" target="_blank" rel="noopener noreferrer" class="footer__link-item">Blog<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/PolymeshAssociation" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://polymesh.network/contact-us" target="_blank" rel="noopener noreferrer" class="footer__link-item">Contact Us<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><img src="/polymesh-documentation-site/img/logo.svg" alt="Polymesh Logo" class="footer__logo themedComponent_mlkZ themedComponent--light_NVdE" width="150px"><img src="/polymesh-documentation-site/img/logo.svg" alt="Polymesh Logo" class="footer__logo themedComponent_mlkZ themedComponent--dark_xIcU" width="150px"></div><div class="footer__copyright">Copyright © 2024 Polymesh Association, All Right Reserved</div></div></div></footer></div>
</body>
</html>