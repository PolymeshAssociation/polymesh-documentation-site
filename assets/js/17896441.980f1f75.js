(self.webpackChunkpolymesh_developer_documentation=self.webpackChunkpolymesh_developer_documentation||[]).push([[18401],{47790:()=>{},66523:(e,t,i)=>{"use strict";i.d(t,{A:()=>x});i(96540);var r=i(34164),a=i(56289),n=i(50539),o=i(56942),s=i(204),l=i(96351),d=i(21858),c=i(74848);const u={unreleased:function(e){let{siteTitle:t,versionMetadata:i}=e;return(0,c.jsx)(n.A,{id:"theme.docs.versions.unreleasedVersionLabel",description:"The label used to tell the user that he's browsing an unreleased doc version",values:{siteTitle:t,versionLabel:(0,c.jsx)("b",{children:i.label})},children:"This is unreleased documentation for {siteTitle} {versionLabel} version."})},unmaintained:function(e){let{siteTitle:t,versionMetadata:i}=e;return(0,c.jsx)(n.A,{id:"theme.docs.versions.unmaintainedVersionLabel",description:"The label used to tell the user that he's browsing an unmaintained doc version",values:{siteTitle:t,versionLabel:(0,c.jsx)("b",{children:i.label})},children:"This is documentation for {siteTitle} {versionLabel}, which is no longer actively maintained."})}};function h(e){const t=u[e.versionMetadata.banner];return(0,c.jsx)(t,{...e})}function p(e){let{versionLabel:t,to:i,onClick:r}=e;return(0,c.jsx)(n.A,{id:"theme.docs.versions.latestVersionSuggestionLabel",description:"The label used to tell the user to check the latest version",values:{versionLabel:t,latestVersionLink:(0,c.jsx)("b",{children:(0,c.jsx)(a.A,{to:i,onClick:r,children:(0,c.jsx)(n.A,{id:"theme.docs.versions.latestVersionLinkLabel",description:"The label used for the latest version suggestion link label",children:"latest version"})})})},children:"For up-to-date documentation, see the {latestVersionLink} ({versionLabel})."})}function b(e){let{className:t,versionMetadata:i}=e;const{pluginId:a}=(0,o.vT)({failfast:!0}),{savePreferredVersionName:n}=(0,l.g1)(a),{latestDocSuggestion:d,latestVersionSuggestion:u}=(0,o.HW)(a),b=d??(x=u).docs.find((e=>e.id===x.mainDocId));var x;return(0,c.jsxs)("div",{className:(0,r.A)(t,s.G.docs.docVersionBanner,"alert alert--warning margin-bottom--md"),role:"alert",children:[(0,c.jsx)("div",{children:(0,c.jsx)(h,{siteTitle:"Polymesh SDK",versionMetadata:i})}),(0,c.jsx)("div",{className:"margin-top--md",children:(0,c.jsx)(p,{versionLabel:u.label,to:b.path,onClick:()=>n(u.name)})})]})}function x(e){let{className:t}=e;const i=(0,d.r)();return i.banner?(0,c.jsx)(b,{className:t,versionMetadata:i}):null}},76286:(e,t,i)=>{"use strict";i.d(t,{A:()=>C});var r=i(96540),a=i(73334),n=i(65537),o=i(79329),s=i(46784),l=i(37107),d=i(66188),c=i(74848);l.Yv.add(d.X7I);const u=e=>{let{videoId:t}=e;return(0,c.jsx)("div",{className:"video-responsive",children:(0,c.jsx)("iframe",{width:"853",height:"480",src:`https://www.youtube-nocookie.com/embed/${t}?noref=true&modestbranding=1&rel=0&autoplay=0`,title:"YouTube video player",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})})};l.Yv.add(d.X7I);var h=i(8532),p=i(66118),b=i(5638),x=i(44731),m=i(19588),v=i(27554);let g=null;async function y(){if(!g){const e=new m.E("wss://rpc.polymesh.network");g=await v.G.create({provider:e,noInitWarn:!0})}return g}p.t1.register(p.PP,p.kc,p.FN,p.No,p.hE,p.m_,p.s$,p.Pz,b.A);const f=(e,t)=>{const i=2.5,r=e<=70?i+e/70*11.5:i+11.5*2**((70-e)/5),a=14e9/t,n=Math.min(r,a);return{apr:n/e*100,inflation:n,apy:100*((1+n/e/365)**365-1)}},w=()=>{const{colorMode:e}=(0,h.G)(),t=(0,r.useRef)(null),i=(0,r.useRef)(null),a=(0,r.useRef)(!1),[n,o]=(0,r.useState)(null),[s,l]=(0,r.useState)(null);(0,r.useEffect)((()=>{(async()=>{try{const e=await async function(){const e=await y(),t=await e.query.balances.totalIssuance();return Number(t.toString())/1e6}(),t=await async function(){const e=await y(),t=await e.query.staking.currentEra(),i=await e.query.staking.erasTotalStake(t.toString());return Number(i.toString())/1e6}();a.current&&(o(e),l(t))}catch(e){console.error("Failed to fetch chain data:",e)}})()}),[]),(0,r.useEffect)((()=>(a.current=!0,()=>{a.current=!1})),[]);const{inflationCurve:d,rewardCurve:u,apyRewardCurve:p}=(0,r.useMemo)((()=>{if(!n)return{inflationCurve:[],rewardCurve:[],apyRewardCurve:[]};const e=[],t=[],i=[];for(let r=0;r<=100;r+=.2){const{inflation:a,apr:o,apy:s}=f(r,n);e.push({x:r,y:a}),t.push({x:r,y:o}),i.push({x:r,y:s})}return{inflationCurve:e,rewardCurve:t,apyRewardCurve:i}}),[n]),b=(0,r.useMemo)((()=>{const t=n&&s?((e,t)=>e/t*100)(s,n):0,i=n&&s?[`Total Supply: ${n.toLocaleString()} POLYX`,`Total Staked: ${s.toLocaleString()} POLYX`,`Percentage Staked: ${t.toFixed(3)}%`]:["Loading..."],{apr:r,inflation:a,apy:o}=f(s/n*100,n),l="dark"===e,d=l?"#e3e3e3":"#666666",c=l?"#444444":"#e3e3e3";return{responsive:!0,maintainAspectRatio:!0,aspectRatio:1.6,showLine:!0,animation:{duration:100},scales:{x:{title:{display:!0,text:"Percent of Total POLYX Staked",color:d,font:e=>{if("chart"in e){return{size:e.chart.width/958*14}}return{size:14}}},ticks:{callback:function(e){return e+"%"},color:d,font:e=>({size:e.chart.width/958*14})},grid:{color:c}},y:{max:50,ticks:{callback:function(e){return e+"%"},color:d,font:e=>({size:e.chart.width/958*14})},grid:{color:c}}},hover:{mode:"point"},elements:{point:{hoverRadius:0}},plugins:{title:{display:!0,text:"Polymesh Staking Reward / Inflation Curve",padding:0,color:d,font:e=>"chart"in e?{size:e.chart.width/958*18}:{size:18}},legend:{display:!0,position:"top",labels:{usePointStyle:!0,pointStyle:"line",padding:10,color:d,font:e=>({size:e.chart.width/958*14})}},tooltip:{enabled:!0,mode:"nearest",intersect:!1,callbacks:{label:e=>`${e.dataset.label}: ${e.parsed.y.toFixed(2)}%`},backgroundColor:l?"#1a1a1a":"rgba(255, 255, 255, 0.9)",titleColor:d,bodyColor:d,borderColor:c,borderWidth:1,titleFont:e=>({size:e.chart.width/958*14}),bodyFont:e=>({size:e.chart.width/958*12})},annotation:{annotations:{...o&&r&&a&&{line1:{type:"line",yMin:0,yMax:o,xMin:t,xMax:t,borderColor:"#170087",borderWidth:1,borderDash:[5,5],label:{position:"20%",backgroundColor:"#170087",content:`${t.toFixed(3)} %`,display:!0,font:e=>({size:e.chart.width/958*14}),padding:5}},point1:{type:"point",xValue:t,yValue:a,radius:3,borderColor:"#EC4673",backgroundColor:"#EC4673",borderWidth:1},point2:{type:"point",xValue:t,yValue:r,radius:3,borderColor:"#D557EA",backgroundColor:"#D557EA",borderWidth:1},point3:{type:"point",xValue:t,yValue:o,radius:3,borderColor:"#60D3CB",backgroundColor:"#60D3CB",borderWidth:1},line2:{type:"line",yMin:r,yMax:r,xMin:0,xMax:t,borderColor:"#D557EA",borderWidth:1,borderDash:[5,5],label:{position:"50%",backgroundColor:"#D557EA",content:`${r.toFixed(3)} %`,display:!0,font:e=>({size:e.chart.width/958*14}),padding:5}},line3:{type:"line",yMin:a,yMax:a,xMin:0,xMax:t,borderColor:"#EC4673",borderWidth:1,borderDash:[5,5],label:{position:"20%",backgroundColor:"#EC4673",content:`${a.toFixed(3)} %`,display:!0,font:e=>({size:e.chart.width/958*14}),padding:5}},line4:{type:"line",yMin:o,yMax:o,xMin:0,xMax:t,borderColor:"#60D3CB",borderWidth:1,borderDash:[5,5],label:{position:"20%",backgroundColor:"#60D3CB",content:`${o.toFixed(3)} %`,display:!0,font:e=>({size:e.chart.width/958*14}),padding:5}}},label1:{type:"label",position:{x:"end",y:"start"},xValue:100,yValue:50,content:i,textAlign:"right",color:d,font:e=>({size:e.chart.width/958*14})}}}}}}),[n,s,e]),m=(0,r.useMemo)((()=>({datasets:[{label:"APY",data:p,borderColor:"#60D3CB",backgroundColor:"#60D3CB",borderWidth:1,pointRadius:0,yAxisID:"y"},{label:"APR",data:u,borderColor:"#D557EA",backgroundColor:"#D557EA",borderWidth:1,pointRadius:0,yAxisID:"y"},{label:"Inflation",data:d,borderColor:"#EC4673",backgroundColor:"#EC4673",borderWidth:1,pointRadius:0,yAxisID:"y"}]})),[p,u,d]);return(0,c.jsx)("div",{ref:i,className:"LineChart",style:{width:"100%",maxWidth:"1200px",aspectRatio:1.6,margin:"0 auto"},children:m&&b?(0,c.jsx)(x.t1,{ref:t,type:"scatter",options:b,data:m}):(0,c.jsx)(c.Fragment,{})})},C={...a.A,Tabs:n.A,TabItem:o.A,OverviewBox:function(e){return e.floating?(0,c.jsx)("div",{className:"overview-box-wrapper",children:(0,c.jsxs)("div",{className:"content-floating",children:[(0,c.jsx)("img",{className:"img-floating",src:e.imgSrc}),(0,c.jsx)("h3",{className:"title",children:e.title}),e.children,(0,c.jsxs)("a",{className:"action-link",href:e.linkHref,children:[e.linkText," ",(0,c.jsx)(s.g,{icon:"arrow-right",className:"link-icon"})]})]})}):(0,c.jsxs)("div",{className:"overview-box-wrapper",children:[(0,c.jsxs)("div",{className:"content-left",children:[(0,c.jsx)("h3",{className:"title",children:e.title}),e.children,(0,c.jsxs)("a",{className:"action-link",href:e.linkHref,target:e.external?"_blank":"",children:[e.linkText," ",(0,c.jsx)(s.g,{icon:"arrow-right",className:"link-icon"})]})]}),(0,c.jsx)("div",{className:"img-right-container",children:(0,c.jsx)("img",{className:"img-right",src:e.imgSrc})})]})},OverviewVideoBox:function(e){return(0,c.jsxs)("div",{className:"overview-video-box-wrapper",children:[(0,c.jsxs)("div",{className:"content-wrapper",children:[(0,c.jsx)("h3",{className:"title",children:e.title}),e.children]}),(0,c.jsx)("div",{className:"video-wrapper",children:(0,c.jsx)(u,{videoId:e.videoId})})]})},YoutubePlayer:u,ActionCard:function(e){return(0,c.jsxs)("a",{href:e.href,className:"actionCard",children:[(0,c.jsxs)("h2",{className:"actionCardLinkText",children:[e.text," ",(0,c.jsx)(s.g,{icon:"arrow-right",className:"link-icon"})]}),(0,c.jsx)("div",{className:"actionCardLinkDesc",children:e.desc})]})},ActionCardWrapper:function(e){return(0,c.jsxs)("div",{className:"wrapper",children:[(0,c.jsx)("h3",{className:"actionCardWrapperTitle",children:e.title}),(0,c.jsx)("div",{className:"content-wrapper",children:e.children})]})},RewardCurve:w}}}]);