"use strict";(self.webpackChunkpolymesh_developer_documentation=self.webpackChunkpolymesh_developer_documentation||[]).push([[80471],{51870:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>o,default:()=>m,frontMatter:()=>a,metadata:()=>i,toc:()=>d});const i=JSON.parse('{"id":"core-concepts/settlement/settlement-mediators","title":"Settlement Mediators","description":"Third-party validation and approval in the settlement process","source":"@site/docs/200-core-concepts/060-settlement/020-mediators.md","sourceDirName":"200-core-concepts/060-settlement","slug":"/settlement/mediators","permalink":"/polymesh-documentation-site/settlement/mediators","draft":false,"unlisted":false,"editUrl":"https://github.com/PolymeshAssociation/polymesh-documentation-site/edit/develop/docs/200-core-concepts/060-settlement/020-mediators.md","tags":[{"inline":true,"label":"settlement","permalink":"/polymesh-documentation-site/tags/settlement"},{"inline":true,"label":"mediators","permalink":"/polymesh-documentation-site/tags/mediators"}],"version":"current","sidebarPosition":20,"frontMatter":{"title":"Settlement Mediators","description":"Third-party validation and approval in the settlement process","id":"settlement-mediators","slug":"/settlement/mediators","sidebar_label":"Settlement Mediators","tags":["settlement","mediators"]},"sidebar":"docs","previous":{"title":"Trading Venues","permalink":"/polymesh-documentation-site/settlement/venues"},"next":{"title":"Off-Chain Settlement","permalink":"/polymesh-documentation-site/settlement/off-chain"}}');var s=n(74848),r=n(28453);const a={title:"Settlement Mediators",description:"Third-party validation and approval in the settlement process",id:"settlement-mediators",slug:"/settlement/mediators",sidebar_label:"Settlement Mediators",tags:["settlement","mediators"]},o=void 0,l={},d=[{value:"Overview",id:"overview",level:2},{value:"Asset-Level Mediators",id:"asset-level-mediators",level:2},{value:"Managing Asset Mediators",id:"managing-asset-mediators",level:3},{value:"Instruction-Level Mediators",id:"instruction-level-mediators",level:2},{value:"Adding Instruction Mediators",id:"adding-instruction-mediators",level:3},{value:"Mediator Functions and Use Cases",id:"mediator-functions-and-use-cases",level:2},{value:"Mediator Actions",id:"mediator-actions",level:2}];function c(e){const t={admonition:"admonition",code:"code",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.h2,{id:"overview",children:"Overview"}),"\n",(0,s.jsx)(t.p,{children:"Settlement mediators in Polymesh are entities that must affirm settlement instructions before they can be executed. They provide an optional additional layer of control and validation in the settlement process, enabling scenarios where third-party verification or approval is required before transfers can execute on chain. Mediators can represent transfer agents, smart contracts, or other entities that need to validate transactions before they occur."}),"\n",(0,s.jsx)(t.p,{children:"Mediator affirmations can have an optional expiry after which it will no longer be valid requiring the mediator to reaffirm the instruction before it can execute. Mediators can also withdraw their affirmation or reject/cancel an instruction entirely."}),"\n",(0,s.jsx)(t.p,{children:"Mediation can be enforced at two levels:"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.strong,{children:"Asset Level"}),": Required for all settlements involving specific assets"]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.strong,{children:"Instruction Level"}),": Required for specific settlement instructions"]}),"\n"]}),"\n",(0,s.jsx)(t.h2,{id:"asset-level-mediators",children:"Asset-Level Mediators"}),"\n",(0,s.jsx)(t.p,{children:"Asset issuers, or their appointed agent can designate mediators that must approve all transfers of their assets. This provides a way to ensure that all settlements meet specific criteria or undergo necessary validation before execution independent of who creates the instruction."}),"\n",(0,s.jsx)(t.h3,{id:"managing-asset-mediators",children:"Managing Asset Mediators"}),"\n",(0,s.jsxs)(t.p,{children:["Asset mediators are managed through the ",(0,s.jsx)(t.code,{children:"asset::add_mandatory_mediator"})," and ",(0,s.jsx)(t.code,{children:"asset::remove_mandatory_mediator"})," transactions."]}),"\n",(0,s.jsx)(t.p,{children:"When asset mediators are set:"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:"All settlement instructions involving the asset require approval from the designated mediators"}),"\n",(0,s.jsx)(t.li,{children:"Multiple mediators can be assigned to a single asset"}),"\n",(0,s.jsx)(t.li,{children:"All mediators and instruction parties must approve before the settlement instruction can execute"}),"\n"]}),"\n",(0,s.jsx)(t.h2,{id:"instruction-level-mediators",children:"Instruction-Level Mediators"}),"\n",(0,s.jsx)(t.p,{children:"Settlement instructions can specify additional mediators beyond any asset-level requirements. This allows for flexible validation requirements based on specific transaction needs."}),"\n",(0,s.jsx)(t.h3,{id:"adding-instruction-mediators",children:"Adding Instruction Mediators"}),"\n",(0,s.jsx)(t.p,{children:"When creating a settlement instruction, mediators can be specified as part of the instruction parameters. These mediators:"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:"Are specific to that individual instruction"}),"\n",(0,s.jsx)(t.li,{children:"Must approve in addition to any asset-level mediators"}),"\n",(0,s.jsx)(t.li,{children:"Can represent different validation requirements for different parts of the transaction"}),"\n"]}),"\n",(0,s.jsx)(t.h2,{id:"mediator-functions-and-use-cases",children:"Mediator Functions and Use Cases"}),"\n",(0,s.jsx)(t.p,{children:"Mediators serve several key functions in the settlement process:"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.strong,{children:"Transfer Agent Oversight"}),": Ensuring transfers are properly validated and approved by authorized agents before execution"]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.strong,{children:"Regulatory Compliance"}),": Validating that transactions meet specific regulatory requirements or receiving necessary third-party compliance verification"]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.strong,{children:"Smart Contract Validation"}),": Enabling programmatic verification of settlement conditions through automated validation logic"]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.strong,{children:"Multi-Party Authorization"}),": Creating workflows that require approval from multiple entities, enhancing security and control"]}),"\n"]}),"\n",(0,s.jsx)(t.h2,{id:"mediator-actions",children:"Mediator Actions"}),"\n",(0,s.jsx)(t.p,{children:"For a settlement to execute when mediators are involved:"}),"\n",(0,s.jsxs)(t.ol,{children:["\n",(0,s.jsxs)(t.li,{children:["\n",(0,s.jsxs)(t.p,{children:["All specified mediators must affirm the instruction using ",(0,s.jsx)(t.code,{children:"settlement::affirm_instruction_as_mediator"})]}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:"Mediators can optionally specify an expiry time for their affirmation"}),"\n",(0,s.jsx)(t.li,{children:"After expiry, the affirmation becomes invalid and the mediator must reaffirm"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(t.li,{children:["\n",(0,s.jsx)(t.p,{children:"Mediators have additional control options:"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.code,{children:"settlement::withdraw_affirmation_as_mediator"}),": Remove a previously given affirmation"]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.code,{children:"settlement::reject_instruction_as_mediator"}),": Reject and cancel the instruction entirely"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(t.p,{children:"The instruction cannot settle until all required affirmations are in place and valid (not expired)."}),"\n",(0,s.jsxs)(t.admonition,{type:"note",children:[(0,s.jsx)(t.p,{children:"If a mediator is also a party to the instruction (sender or receiver of an asset), they must provide separate affirmations:"}),(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:["One affirmation as a mediator using ",(0,s.jsx)(t.code,{children:"affirm_instruction_as_mediator"})]}),"\n",(0,s.jsx)(t.li,{children:"Another affirmation as an instruction party for their leg(s) using the standard instruction affirmation"}),"\n"]}),(0,s.jsx)(t.p,{children:"Both affirmations are required before the instruction can settle."})]}),"\n",(0,s.jsx)(t.admonition,{type:"note",children:(0,s.jsx)(t.p,{children:"Both asset-level and instruction-level mediators must provide their affirmation before settlement can proceed. If any mediator withdraws their affirmation or their affirmation expires, the settlement will be blocked until they reaffirm."})}),"\n",(0,s.jsx)(t.admonition,{type:"info",children:(0,s.jsx)(t.p,{children:"Mediators provide a flexible mechanism for implementing various forms of transfer control and validation. They can be combined with other Polymesh features like venues and compliance rules to create comprehensive settlement governance frameworks."})})]})}function m(e={}){const{wrapper:t}={...(0,r.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}},28453:(e,t,n)=>{n.d(t,{R:()=>a,x:()=>o});var i=n(96540);const s={},r=i.createContext(s);function a(e){const t=i.useContext(r);return i.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function o(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),i.createElement(r.Provider,{value:t},e.children)}}}]);