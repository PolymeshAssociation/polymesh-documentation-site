"use strict";(self.webpackChunkpolymesh_developer_documentation=self.webpackChunkpolymesh_developer_documentation||[]).push([[68370],{95883:(e,s,t)=>{t.r(s),t.d(s,{assets:()=>c,contentTitle:()=>r,default:()=>d,frontMatter:()=>o,metadata:()=>n,toc:()=>h});const n=JSON.parse('{"id":"originate/secondary-keys","title":"Secondary Keys","description":"Assigning authority","source":"@site/docs/03-originate/secondary-keys.mdx","sourceDirName":"03-originate","slug":"/originate/secondary-keys","permalink":"/polymesh-documentation-site/docs/originate/secondary-keys","draft":false,"unlisted":false,"editUrl":"https://github.com/PolymeshAssociation/polymesh-documentation-site/edit/develop/docs/03-originate/secondary-keys.mdx","tags":[],"version":"current","sidebarPosition":4,"frontMatter":{"sidebar_position":4,"title":"Secondary Keys","description":"Assigning authority"},"sidebar":"defaultSidebar","previous":{"title":"Token Studio Dashboard","permalink":"/polymesh-documentation-site/docs/originate/dashboard"},"next":{"title":"Compliance","permalink":"/polymesh-documentation-site/docs/originate/compliance/"}}');var i=t(74848),a=t(28453);const o={sidebar_position:4,title:"Secondary Keys",description:"Assigning authority"},r=void 0,c={},h=[{value:"ACME Corporation",id:"acme-corporation",level:2},{value:"Secondary keys",id:"secondary-keys",level:2},{value:"Use another computer or browser",id:"use-another-computer-or-browser",level:2},{value:"Create a secondary key",id:"create-a-secondary-key",level:2},{value:"Transfer token ownership",id:"transfer-token-ownership",level:2},{value:"ACME accepts ownership",id:"acme-accepts-ownership",level:2},{value:"Summary",id:"summary",level:2}];function l(e){const s={a:"a",admonition:"admonition",code:"code",em:"em",h2:"h2",img:"img",li:"li",ol:"ol",p:"p",strong:"strong",...(0,a.R)(),...e.components},{YoutubePlayer:n}=s;return n||function(e,s){throw new Error("Expected "+(s?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("YoutubePlayer",!0),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n,{videoId:"Osb4Dnf8rvI"}),"\n",(0,i.jsx)(s.h2,{id:"acme-corporation",children:"ACME Corporation"}),"\n",(0,i.jsx)(s.p,{children:"So far we have seen that obtaining the wallet software, verifying your ID and issuing a security token are surprisingly simple. However, the examples given were somewhat simplistic to avoid complicating matters with adjacent concerns."}),"\n",(0,i.jsxs)(s.p,{children:["Now, we will transition to a somewhat ",(0,i.jsx)(s.strong,{children:"more realistic example"}),"."]}),"\n",(0,i.jsx)(s.p,{children:"You may have noticed that Alice originated a security token. In all probability this is not precisely what she wants to do. She is possibly doing the work, but it is her company and not herself that would originate a security. In other words, Alice does the work but the token should be issued by ACME and not Alice, personally."}),"\n",(0,i.jsx)(s.p,{children:"Let's resolve this."}),"\n",(0,i.jsx)(s.h2,{id:"secondary-keys",children:"Secondary keys"}),"\n",(0,i.jsxs)(s.p,{children:["The goal is that ACME should be an ",(0,i.jsx)(s.strong,{children:"identified organisation"})," that has passed customer due diligence and Alice has, in addition to her personal wallet, a ",(0,i.jsx)(s.strong,{children:"signing key"})," to use when she represents ACME in her capacity as CEO."]}),"\n",(0,i.jsxs)(s.p,{children:["There is more than one way to do this. Alice, can, for example, create another key for ACME. With that key in focus (click the blue circle to the left of the unassigned key), complete ",(0,i.jsx)(s.a,{href:"/docs/quickstart/verification-with-cdd",children:"customer due diligence"}),". This will create a new primary key and a new account. Then, create a secondary key for the CEO and assign it to the new account."]}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{alt:"Alice and secondary keys",src:t(82678).A+"",width:"1917",height:"1286"})}),"\n",(0,i.jsx)(s.p,{children:"Why would you do that? Key management policy is unique to each organisation, but it is anticipated that organisations will not want to use their primary keys for ordinary operations even for the CEO. That is to say, the CEO should use a secondary key known only to the CEO, and not the primary key that can assign and unassign secondary keys to the account and set permissions."}),"\n",(0,i.jsx)(s.p,{children:"Alice could dismiss the preceding suggestion and do it all from one wallet, i.e. wearing all of the hats and the end result would look approximately like the illustration below, which is perfectly acceptable for practice and learning. Alice has primary keys for herself, for ACME Corp, and a CEO key she would use for most ACME-related activities."}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{alt:"all three keys",src:t(92579).A+"",width:"325",height:"598"})}),"\n",(0,i.jsxs)(s.p,{children:["Let's instead proceed as though ACME and Alice are indeed ",(0,i.jsx)(s.strong,{children:"separate entities"}),". Possibly ACME existed before Alice became CEO and ACME's keys are managed by separate personnel. How would that work?"]}),"\n",(0,i.jsx)(s.h2,{id:"use-another-computer-or-browser",children:"Use another computer or browser"}),"\n",(0,i.jsx)(s.p,{children:"Let's suppose that the ACME account is managed by someone other than Alice. We can simulate this by using a different computer. This procedure closely matches a real-world scenario where these activities would indeed occur separately. For this, the following is necessary:"}),"\n",(0,i.jsxs)(s.ol,{children:["\n",(0,i.jsxs)(s.li,{children:["Create a ",(0,i.jsx)(s.a,{href:"/docs/quickstart/wallet/",children:"wallet"})," and PID for ACME;"]}),"\n",(0,i.jsxs)(s.li,{children:["Complete ",(0,i.jsx)(s.a,{href:"/docs/quickstart/verification-with-cdd",children:"customer due diligence"}),";"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.a,{href:"/docs/quickstart/quickstart-polyx",children:"Get some POLYX"})," (ACME will need some too)."]}),"\n"]}),"\n",(0,i.jsx)(s.p,{children:"Below, you can see ACME has been verified and has some POLYX."}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{alt:"assign key",src:t(57103).A+"",width:"1066",height:"329"})}),"\n",(0,i.jsx)(s.h2,{id:"create-a-secondary-key",children:"Create a secondary key"}),"\n",(0,i.jsx)(s.p,{children:"ACME can assign a key but Alice will have to supply it to them. More precisely, Alice will provide the public information but not the private signing key, which means that ACME cannot sign on her behalf. ACME can determine the scope of the CEO's, Alice, permission within ACME but only Alice can actually sign as CEO."}),"\n",(0,i.jsxs)(s.p,{children:["Returning to Alice's wallet, simply click ",(0,i.jsx)(s.code,{children:"Add a key"})," and follow the usual procedure. Give the key a name that will help Alice remember what the key is for, e.g. ACME CEO. The result will be that Alice has a second, unassigned key. ",(0,i.jsx)(s.strong,{children:"Don't"})," assign this key."]}),"\n",(0,i.jsxs)(s.p,{children:["There is nothing Alice can do to associate the key she just made with ACME, an account she doesn't control. Instead, let's say that Alice provides the public key to ACME through an off-chain communication channel and ACME adds it to ",(0,i.jsx)(s.em,{children:"their account"})," on their own authority."]}),"\n",(0,i.jsx)(s.admonition,{type:"tip",children:(0,i.jsxs)(s.p,{children:["You can create the ACME primary in the same wallet Alice uses. Add a key, and ",(0,i.jsx)(s.strong,{children:"don't"})," assign the key to Alice's account. Instead, bring the new key into focus, proceed to the dashboard, and create a new account."]})}),"\n",(0,i.jsx)(s.p,{children:"In case that is unclear, the flow would be:"}),"\n",(0,i.jsxs)(s.ol,{children:["\n",(0,i.jsx)(s.li,{children:"ACME exists and is managed by ACME personnel;"}),"\n",(0,i.jsx)(s.li,{children:"Alice is appointed CEO;"}),"\n",(0,i.jsx)(s.li,{children:"As part of ACME's onboarding process, ACME asks Alice for a key;"}),"\n",(0,i.jsx)(s.li,{children:"Alice generates a key (pair) for this purpose and gives the address to ACME;"}),"\n",(0,i.jsx)(s.li,{children:"ACME adds the address to their account. They would also manage permissions."}),"\n"]}),"\n",(0,i.jsx)(s.p,{children:"As we will see below, Alice's consent will be required for step 5 in the business process."}),"\n",(0,i.jsxs)(s.p,{children:["Now that ACME has the key Alice provided, return to ACME's wallet and dashboard, navigate to the ",(0,i.jsx)(s.code,{children:"Account"})," tab and press ",(0,i.jsx)(s.code,{children:"Assign a key"}),". You will see that the UI permits the operator to paste ",(0,i.jsx)(s.em,{children:"any"})," Polymesh key into the form. Paste Alice's key there, give the account a nickname, e.g. Alice (our CEO), and verify the transaction."]}),"\n",(0,i.jsx)(s.p,{children:"Of course, ACME cannot do that without Alice's consent. After all, it is Alice's key."}),"\n",(0,i.jsxs)(s.p,{children:["Back to Alice's wallet, dashboard, and ",(0,i.jsx)(s.code,{children:"Accounts"})," tab, see that Alice is informed that ACME wants to assign ",(0,i.jsx)(s.em,{children:"her key"})," to ",(0,i.jsx)(s.em,{children:"their account"}),"."]}),"\n",(0,i.jsx)(s.admonition,{type:"tip",children:(0,i.jsx)(s.p,{children:"Press the icon to the left of Alice's secondary key to bring the correct account into focus. This is how Alice chooses the key to use for signing at any given time. The header information in the wallet changes to reflect this and the web UI senses the change and refreshes to display the new context."})}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{alt:"images",src:t(19108).A+"",width:"2638",height:"898"})}),"\n",(0,i.jsx)(s.p,{children:"Since Alice is the CEO and gave ACME her key for this purpose, she expects this and, after checking the requesting account, approves the assignment."}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{alt:"ceo",src:t(57673).A+"",width:"1049",height:"639"})}),"\n",(0,i.jsxs)(s.p,{children:["Alice's wallet will now have ",(0,i.jsx)(s.strong,{children:"two signing keys"}),", one for her personal concerns and one to use in her capacity as CEO. The wallet will change as she switches between these roles. Here, her personal signing key is in focus. The header and the accounts page on the dashboard reflect this context - this is Alice's personal account."]}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{alt:"alice&#39;s ceo key",src:t(57673).A+"",width:"1049",height:"639"})}),"\n",(0,i.jsx)(s.p,{children:"She can change context by clicking on the little blue circle to the left of ACME CEO. This brings the CEO signing key into focus. Notice that the header region of the wallet updates to reflect this, and the accounts website refeshes immediately to show the ACME account where she is a signer."}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{alt:"ceo context",src:t(92813).A+"",width:"1029",height:"649"})}),"\n",(0,i.jsx)(s.h2,{id:"transfer-token-ownership",children:"Transfer token ownership"}),"\n",(0,i.jsx)(s.p,{children:"Alice and ACME are established as separate identities, and Alice's wallet gives her access to her personal accounts as well as the key she uses to sign as ACME's CEO when she needs to."}),"\n",(0,i.jsxs)(s.p,{children:["Now would be a good time for her to ",(0,i.jsx)(s.strong,{children:"issue the security"})," as ACME's CEO."]}),"\n",(0,i.jsx)(s.p,{children:"Of course, if you've been following along then Alice herself already originated an asset, which is purportedly preferred equity in ACME. This situation could easily happen in reality. For example, founders might enthusiastically create an asset and then later realise that the asset was originated by the wrong entity - an individual rather than the new company. Indeed, individuals might want to reserve symbols before the legal inception of the new company."}),"\n",(0,i.jsxs)(s.p,{children:["Alice's token is ",(0,i.jsx)(s.strong,{children:"not fully configured"})," and ",(0,i.jsx)(s.strong,{children:"no shares have been distributed"}),", so the solution is as simple as ",(0,i.jsx)(s.strong,{children:"transferring ownership"})," to ACME. ACME will take over from here."]}),"\n",(0,i.jsxs)(s.p,{children:["Navigate to ",(0,i.jsx)(s.code,{children:"Token Management"}),", ",(0,i.jsx)(s.code,{children:"Security Token Details"}),", and scroll down to ",(0,i.jsx)(s.code,{children:"Advanced Token Management"}),"."]}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{alt:"token details",src:t(77862).A+"",width:"966",height:"818"})}),"\n",(0,i.jsxs)(s.p,{children:["Paste ACME's account number into the new owner field and click ",(0,i.jsx)(s.code,{children:"Transfer ownership"}),". The number is that of the account Alice's (the CEO) key signs for, not Alice's personal key. It starts with 0x. In the wallet, it will be highlighted with a light background colour and you can copy it with the mouse without switching signing accounts."]}),"\n",(0,i.jsx)(s.admonition,{type:"tip",children:(0,i.jsx)(s.p,{children:"Remember that the signer must be the current owner, Alice."})}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{alt:"transfer token ownership",src:t(99302).A+"",width:"545",height:"438"})}),"\n",(0,i.jsxs)(s.p,{children:["When you click ",(0,i.jsx)(s.code,{children:"Transfer ownership"}),", the site will explain that ACME's consent is required before the transfer will be executed."]}),"\n",(0,i.jsx)(s.p,{children:"Confirm the transaction and sign, as Alice, in the usual way."}),"\n",(0,i.jsxs)(s.p,{children:["After a few moments the option will change to ",(0,i.jsx)(s.code,{children:"Cancel ownership transfer"}),", which you can still do until ACME accepts the transfer. The pending status is indicated."]}),"\n",(0,i.jsx)(s.h2,{id:"acme-accepts-ownership",children:"ACME accepts ownership"}),"\n",(0,i.jsx)(s.p,{children:"Use the computer with ACME's primary key and navigate to the Token Studio."}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{alt:"accept",src:t(73e3).A+"",width:"1143",height:"690"})}),"\n",(0,i.jsx)(s.p,{children:"ACME can either accept or reject this incoming ownership transfer. Accept, of course."}),"\n",(0,i.jsx)(s.p,{children:"Permission to accept or reject such proposals is something ACME can delegate to secondary accounts. The permission system is granular and organised around logical containers and functional concerns. To keep it simple for now, we used ACME's primary key which surely has sufficient permission."}),"\n",(0,i.jsx)(s.admonition,{type:"tip",children:(0,i.jsxs)(s.p,{children:["ACME will need some POLYX to pay transaction fees. If they don't already have some, they should ",(0,i.jsx)(s.a,{href:"/docs/quickstart/quickstart-polyx",children:"get some free Testnet POLYX"}),"."]})}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.strong,{children:"Congratulations! You have transferred ownership of the token management to ACME."})}),"\n",(0,i.jsx)(s.h2,{id:"summary",children:"Summary"}),"\n",(0,i.jsx)(s.p,{children:"Accounts can delegate authority to other users using secondary keys. Users can generate secondary keys for each area of responsibility and safely provide others with the public-facing identifiers. Users can assign keys that belong to other users to their own account, but only if the owners of those keys (who exclusively have the private keys) consent to the assignment."})]})}function d(e={}){const{wrapper:s}={...(0,a.R)(),...e.components};return s?(0,i.jsx)(s,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},57103:(e,s,t)=>{t.d(s,{A:()=>n});const n=t.p+"assets/images/01-assign-key-3d6b3bed0ab8ff11af06706f44e9e5ce.png"},77862:(e,s,t)=>{t.d(s,{A:()=>n});const n=t.p+"assets/images/01-token-details-3ed5eb787637fab6db17228c10ea740e.png"},19108:(e,s,t)=>{t.d(s,{A:()=>n});const n=t.p+"assets/images/02-approve-assignment-35d33de158d8157aa1c9acd0786a071b.png"},99302:(e,s,t)=>{t.d(s,{A:()=>n});const n=t.p+"assets/images/02-transfer-ownership-d17440cf9377ba9402e0d985e0f7a0e8.png"},57673:(e,s,t)=>{t.d(s,{A:()=>n});const n=t.p+"assets/images/03-CEO-8cefe120c5fdb3fff97f4cbca2299dea.png"},73e3:(e,s,t)=>{t.d(s,{A:()=>n});const n=t.p+"assets/images/03-accept-token-ownership-8b8a27534d3fc163aad6e0b6a65a1686.png"},92813:(e,s,t)=>{t.d(s,{A:()=>n});const n=t.p+"assets/images/04-ACME-context-0ca3baa3506baf8109ba4debd60c7d9e.png"},92579:(e,s,t)=>{t.d(s,{A:()=>n});const n=t.p+"assets/images/30-three-keys-2a745ab3a1ba083c3d37ea883022ba2d.png"},82678:(e,s,t)=>{t.d(s,{A:()=>n});const n=t.p+"assets/images/primary_secondary_keys-738a25313b37b8bed4d3665479c9cf26.png"},28453:(e,s,t)=>{t.d(s,{R:()=>o,x:()=>r});var n=t(96540);const i={},a=n.createContext(i);function o(e){const s=n.useContext(a);return n.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function r(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),n.createElement(a.Provider,{value:s},e.children)}}}]);