"use strict";(self.webpackChunkpolymesh_developer_documentation=self.webpackChunkpolymesh_developer_documentation||[]).push([[2538],{81917:(e,i,n)=>{n.r(i),n.d(i,{assets:()=>c,contentTitle:()=>o,default:()=>h,frontMatter:()=>r,metadata:()=>s,toc:()=>l});const s=JSON.parse('{"id":"core-concepts/identity/advanced/subsidized-accounts","title":"Subsidized Accounts - Fee Relayer","description":"Fee Subsidization","source":"@site/docs/200-core-concepts/030-identity/030-advanced/050-subsidized.md","sourceDirName":"200-core-concepts/030-identity/030-advanced","slug":"/accounts/subsidized","permalink":"/polymesh-documentation-site/accounts/subsidized","draft":false,"unlisted":false,"editUrl":"https://github.com/PolymeshAssociation/polymesh-documentation-site/edit/develop/docs/200-core-concepts/030-identity/030-advanced/050-subsidized.md","tags":[{"inline":true,"label":"accounts","permalink":"/polymesh-documentation-site/tags/accounts"},{"inline":true,"label":"subsidized","permalink":"/polymesh-documentation-site/tags/subsidized"}],"version":"current","sidebarPosition":50,"frontMatter":{"title":"Subsidized Accounts - Fee Relayer","description":"Fee Subsidization","id":"subsidized-accounts","slug":"/accounts/subsidized","sidebar_label":"Subsidized Accounts","tags":["accounts","subsidized"]},"sidebar":"docs","previous":{"title":"Child Identities","permalink":"/polymesh-documentation-site/identity/advanced/child"},"next":{"title":"Asset Management","permalink":"/polymesh-documentation-site/assets"}}');var t=n(74848),a=n(28453);const r={title:"Subsidized Accounts - Fee Relayer",description:"Fee Subsidization",id:"subsidized-accounts",slug:"/accounts/subsidized",sidebar_label:"Subsidized Accounts",tags:["accounts","subsidized"]},o=void 0,c={},l=[{value:"Overview",id:"overview",level:2},{value:"Use Cases",id:"use-cases",level:2},{value:"How It Works",id:"how-it-works",level:2},{value:"Limitations and Considerations",id:"limitations-and-considerations",level:2},{value:"Technical Implementation",id:"technical-implementation",level:2},{value:"Setting Up Subsidies",id:"setting-up-subsidies",level:3},{value:"Managing Subsidies",id:"managing-subsidies",level:3},{value:"Monitoring Subsidies",id:"monitoring-subsidies",level:3},{value:"Transaction Fee Behavior",id:"transaction-fee-behavior",level:3},{value:"Best Practices",id:"best-practices",level:2}];function d(e){const i={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",strong:"strong",ul:"ul",...(0,a.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(i.h2,{id:"overview",children:"Overview"}),"\n",(0,t.jsx)(i.p,{children:"Subsidized accounts in Polymesh allow one account key (the subsidizer) to pay both network transaction fees and protocol fees on behalf of another account key (the subsidized). This feature enables businesses to cover transaction costs for their users, removing friction from the user experience while maintaining proper identity attribution for regulatory compliance."}),"\n",(0,t.jsx)(i.h2,{id:"use-cases",children:"Use Cases"}),"\n",(0,t.jsx)(i.p,{children:"Common scenarios for using subsidized accounts include:"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.strong,{children:"DApp Providers"}),": Covering transaction fees for their users to improve user experience"]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.strong,{children:"Asset Issuers"}),": Subsidizing operations for their investors or service providers"]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.strong,{children:"Service Providers"}),": Offering fee coverage as part of their service package"]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.strong,{children:"Corporate Entities"}),": Managing internal operations where a central account pays for multiple department activities"]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.strong,{children:"Institutional Users"}),": Organizations that prefer not to hold POLYX directly on their balance sheets can engage third-party service providers to manage token holdings and handle transaction fee payments"]}),"\n"]}),"\n",(0,t.jsx)(i.admonition,{type:"note",children:(0,t.jsx)(i.p,{children:"The subsidized accounts feature is particularly valuable for institutions with regulatory or accounting considerations regarding utility token holdings. By using a third-party subsidizer to handle transaction fees, organizations can participate in the network while outsourcing the management of POLYX tokens."})}),"\n",(0,t.jsx)(i.h2,{id:"how-it-works",children:"How It Works"}),"\n",(0,t.jsx)(i.p,{children:"The subsidization process involves two main roles:"}),"\n",(0,t.jsxs)(i.ol,{children:["\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.strong,{children:"Subsidizer"}),": The account key that pays for transaction fees"]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.strong,{children:"Subsidized Account"}),": The account key whose transactions are being paid for"]}),"\n"]}),"\n",(0,t.jsx)(i.p,{children:"The process follows these steps:"}),"\n",(0,t.jsxs)(i.ol,{children:["\n",(0,t.jsx)(i.li,{children:"A subsidizer account sets up an allowance for a target account"}),"\n",(0,t.jsxs)(i.li,{children:["When the subsidized account submits a supported transaction, the chains relayer functionality automatically:","\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsx)(i.li,{children:"Validates the transaction type is eligible for subsidization"}),"\n",(0,t.jsx)(i.li,{children:"Checks the available allowance"}),"\n",(0,t.jsx)(i.li,{children:"Deducts fees from the subsidizer's account instead of the sender"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(i.admonition,{type:"note",children:(0,t.jsx)(i.p,{children:"Subsidies are established at the account level. All transactions from the subsidized account can benefit from the subsidy for eligible transactions."})}),"\n",(0,t.jsx)(i.h2,{id:"limitations-and-considerations",children:"Limitations and Considerations"}),"\n",(0,t.jsx)(i.p,{children:"Before implementing subsidized accounts, be aware of these important limitations:"}),"\n",(0,t.jsxs)(i.ol,{children:["\n",(0,t.jsxs)(i.li,{children:["\n",(0,t.jsxs)(i.p,{children:[(0,t.jsx)(i.strong,{children:"Account Restrictions"}),":"]}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsx)(i.li,{children:"When an account has an active subsidy, it cannot submit non-subsidized transactions"}),"\n",(0,t.jsx)(i.li,{children:"Only specific transactions, defined in the chain runtime are eligible for subsidization. All transaction related to Asset and Identity management are supported."}),"\n",(0,t.jsx)(i.li,{children:"This restriction helps prevent fee circumvention and ensures proper subsidy tracking"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(i.li,{children:["\n",(0,t.jsxs)(i.p,{children:[(0,t.jsx)(i.strong,{children:"Batch Transaction Restrictions"}),":"]}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsx)(i.li,{children:"When using subsidies, batch transactions are limited to a maximum of 7 transactions"}),"\n",(0,t.jsx)(i.li,{children:"Nested batch calls are not supported when using subsidies"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(i.li,{children:["\n",(0,t.jsxs)(i.p,{children:[(0,t.jsx)(i.strong,{children:"Allowance Management"}),":"]}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsx)(i.li,{children:"Subsidies have a maximum allowance that cannot be exceeded"}),"\n",(0,t.jsx)(i.li,{children:"Once an allowance is exhausted, it must be renewed by the subsidizer before the key can transact again"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(i.li,{children:["\n",(0,t.jsxs)(i.p,{children:[(0,t.jsx)(i.strong,{children:"Transaction Requirements"}),":"]}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsx)(i.li,{children:"The subsidizer must have sufficient balance to cover the fees"}),"\n",(0,t.jsx)(i.li,{children:"Failed transactions still consume the allowance for the transaction fees consumed"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(i.h2,{id:"technical-implementation",children:"Technical Implementation"}),"\n",(0,t.jsx)(i.h3,{id:"setting-up-subsidies",children:"Setting Up Subsidies"}),"\n",(0,t.jsxs)(i.p,{children:["Subsidizers can establish subsidies using ",(0,t.jsx)(i.code,{children:"relayer::set_paying_key"})," providing the account key to be subsidized and the maximum POLYX allowance for the subsidy. This transaction creates an ",(0,t.jsx)(i.a,{href:"/authorizations",children:"authorization"})," request targeting the key to be subsidized for approval. Once the subsidized key accepts the authorization request, the subsidy relationship will be fully established between the keys."]}),"\n",(0,t.jsx)(i.admonition,{type:"note",children:(0,t.jsxs)(i.p,{children:["Alternatively, the subsidizer can create the authorization request through the ",(0,t.jsx)(i.code,{children:"identity::add_authorization"})," transaction selecting an authorization type of ",(0,t.jsx)(i.code,{children:"AddRelayerPayingKey"}),". This alternate option allows an optional expiry to be associated with the authorization request."]})}),"\n",(0,t.jsx)(i.h3,{id:"managing-subsidies",children:"Managing Subsidies"}),"\n",(0,t.jsx)(i.p,{children:"Subsidizers have several management options:"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.code,{children:"relayer::decrease_allowance"}),": Reduce the subsidy allowance"]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.code,{children:"relayer::increase_allowance"}),": Increase the subsidy allowance"]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.code,{children:"relayer::remove_paying_key"}),": Remove the subsidy entirely"]}),"\n"]}),"\n",(0,t.jsx)(i.h3,{id:"monitoring-subsidies",children:"Monitoring Subsidies"}),"\n",(0,t.jsxs)(i.p,{children:["Participants can monitor subsidy status using chain state queries ",(0,t.jsx)(i.code,{children:"relayer::subsidies"})," to view the subsidy relationship and remaining allowance."]}),"\n",(0,t.jsx)(i.h3,{id:"transaction-fee-behavior",children:"Transaction Fee Behavior"}),"\n",(0,t.jsx)(i.p,{children:"When a transaction is subsidized:"}),"\n",(0,t.jsxs)(i.ol,{children:["\n",(0,t.jsx)(i.li,{children:"The chain verifies the transaction type is eligible for subsidization"}),"\n",(0,t.jsx)(i.li,{children:"The relayer pallet automatically handles fee payment from the subsidizer's account"}),"\n",(0,t.jsx)(i.li,{children:"Both network fees and protocol fees are covered by the subsidy"}),"\n",(0,t.jsx)(i.li,{children:"The transaction maintains its original identity attribution for compliance purposes"}),"\n"]}),"\n",(0,t.jsx)(i.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,t.jsx)(i.p,{children:"When implementing subsidized accounts:"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsx)(i.li,{children:"Set reasonable allowance limits"}),"\n",(0,t.jsx)(i.li,{children:"Monitor usage patterns"}),"\n",(0,t.jsx)(i.li,{children:"Monitor allowance levels to prevent disruption"}),"\n",(0,t.jsx)(i.li,{children:"Regularly review subsidy relationships"}),"\n",(0,t.jsx)(i.li,{children:"Plan for allowance renewals"}),"\n"]}),"\n",(0,t.jsx)(i.admonition,{type:"info",children:(0,t.jsx)(i.p,{children:"Subsidized accounts provide a powerful way to manage transaction fees while maintaining proper identity attribution. The automatic handling by the Relayer pallet makes it seamless for end users while ensuring proper controls and tracking are maintained."})})]})}function h(e={}){const{wrapper:i}={...(0,a.R)(),...e.components};return i?(0,t.jsx)(i,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}},28453:(e,i,n)=>{n.d(i,{R:()=>r,x:()=>o});var s=n(96540);const t={},a=s.createContext(t);function r(e){const i=s.useContext(a);return s.useMemo((function(){return"function"==typeof e?e(i):{...i,...e}}),[i,e])}function o(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:r(e.components),s.createElement(a.Provider,{value:i},e.children)}}}]);