(globalThis.webpackChunkpolymesh_developer_documentation=globalThis.webpackChunkpolymesh_developer_documentation||[]).push([[18401],{29128(e,t,a){"use strict";a.d(t,{A:()=>N});var i=a(96540),o=a(17010),n=a(11470),r=a(19365),s=a(46784),l=a(37107),d=a(66188),c=a(74848);l.Yv.add(d.X7I);const u=({videoId:e})=>(0,c.jsx)("div",{className:"video-responsive",children:(0,c.jsx)("iframe",{width:"853",height:"480",src:`https://www.youtube-nocookie.com/embed/${e}?noref=true&modestbranding=1&rel=0&autoplay=0`,title:"YouTube video player",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})});l.Yv.add(d.X7I);var m=a(95293),h=a(66118),b=a(5638),p=a(44731),x=a(78452),v=a(88241);let y=null;async function g(){if(!y){const e=new x.E("wss://rpc.polymesh.network");y=await v.G.create({provider:e,noInitWarn:!0})}return y}h.t1.register(h.PP,h.kc,h.FN,h.No,h.hE,h.m_,h.s$,h.Pz,b.A);const f=(e,t)=>{const a=2.5,i=e<=70?a+e/70*11.5:a+11.5*2**((70-e)/5),o=14e9/t,n=Math.min(i,o);return{apr:n/e*100,inflation:n,apy:100*((1+n/e/365)**365-1)}},w=()=>{const{colorMode:e}=(0,m.G)(),t=(0,i.useRef)(null),a=(0,i.useRef)(null),o=(0,i.useRef)(!1),[n,r]=(0,i.useState)(null),[s,l]=(0,i.useState)(null);(0,i.useEffect)(()=>{(async()=>{try{const e=await async function(){const e=await g(),t=await e.query.balances.totalIssuance();return Number(t.toString())/1e6}(),t=await async function(){const e=await g(),t=await e.query.staking.currentEra(),a=await e.query.staking.erasTotalStake(t.toString());return Number(a.toString())/1e6}();o.current&&(r(e),l(t))}catch(e){console.error("Failed to fetch chain data:",e)}})()},[]),(0,i.useEffect)(()=>(o.current=!0,()=>{o.current=!1}),[]);const{inflationCurve:d,rewardCurve:u,apyRewardCurve:h}=(0,i.useMemo)(()=>{if(!n)return{inflationCurve:[],rewardCurve:[],apyRewardCurve:[]};const e=[],t=[],a=[];for(let i=0;i<=100;i+=.2){const{inflation:o,apr:r,apy:s}=f(i,n);e.push({x:i,y:o}),t.push({x:i,y:r}),a.push({x:i,y:s})}return{inflationCurve:e,rewardCurve:t,apyRewardCurve:a}},[n]),b=(0,i.useMemo)(()=>{const t=n&&s?((e,t)=>e/t*100)(s,n):0,a=n&&s?[`Total Supply: ${n.toLocaleString()} POLYX`,`Total Staked: ${s.toLocaleString()} POLYX`,`Percentage Staked: ${t.toFixed(3)}%`]:["Loading..."],{apr:i,inflation:o,apy:r}=f(s/n*100,n),l="dark"===e,d=l?"#e3e3e3":"#666666",c=l?"#444444":"#e3e3e3";return{responsive:!0,maintainAspectRatio:!0,aspectRatio:1.6,showLine:!0,animation:{duration:100},scales:{x:{title:{display:!0,text:"Percent of Total POLYX Staked",color:d,font:e=>{if("chart"in e){return{size:e.chart.width/958*14}}return{size:14}}},ticks:{callback:function(e){return e+"%"},color:d,font:e=>({size:e.chart.width/958*14})},grid:{color:c}},y:{max:50,ticks:{callback:function(e){return e+"%"},color:d,font:e=>({size:e.chart.width/958*14})},grid:{color:c}}},hover:{mode:"point"},elements:{point:{hoverRadius:0}},plugins:{title:{display:!0,text:"Polymesh Staking Reward / Inflation Curve",padding:0,color:d,font:e=>"chart"in e?{size:e.chart.width/958*18}:{size:18}},legend:{display:!0,position:"top",labels:{usePointStyle:!0,pointStyle:"line",padding:10,color:d,font:e=>({size:e.chart.width/958*14})}},tooltip:{enabled:!0,mode:"nearest",intersect:!1,callbacks:{label:e=>`${e.dataset.label}: ${e.parsed.y.toFixed(2)}%`},backgroundColor:l?"#1a1a1a":"rgba(255, 255, 255, 0.9)",titleColor:d,bodyColor:d,borderColor:c,borderWidth:1,titleFont:e=>({size:e.chart.width/958*14}),bodyFont:e=>({size:e.chart.width/958*12})},annotation:{annotations:{...r&&i&&o&&{line1:{type:"line",yMin:0,yMax:r,xMin:t,xMax:t,borderColor:"#170087",borderWidth:1,borderDash:[5,5],label:{position:"20%",backgroundColor:"#170087",content:`${t.toFixed(3)} %`,display:!0,font:e=>({size:e.chart.width/958*14}),padding:5}},point1:{type:"point",xValue:t,yValue:o,radius:3,borderColor:"#EC4673",backgroundColor:"#EC4673",borderWidth:1},point2:{type:"point",xValue:t,yValue:i,radius:3,borderColor:"#D557EA",backgroundColor:"#D557EA",borderWidth:1},point3:{type:"point",xValue:t,yValue:r,radius:3,borderColor:"#60D3CB",backgroundColor:"#60D3CB",borderWidth:1},line2:{type:"line",yMin:i,yMax:i,xMin:0,xMax:t,borderColor:"#D557EA",borderWidth:1,borderDash:[5,5],label:{position:"50%",backgroundColor:"#D557EA",content:`${i.toFixed(3)} %`,display:!0,font:e=>({size:e.chart.width/958*14}),padding:5}},line3:{type:"line",yMin:o,yMax:o,xMin:0,xMax:t,borderColor:"#EC4673",borderWidth:1,borderDash:[5,5],label:{position:"20%",backgroundColor:"#EC4673",content:`${o.toFixed(3)} %`,display:!0,font:e=>({size:e.chart.width/958*14}),padding:5}},line4:{type:"line",yMin:r,yMax:r,xMin:0,xMax:t,borderColor:"#60D3CB",borderWidth:1,borderDash:[5,5],label:{position:"20%",backgroundColor:"#60D3CB",content:`${r.toFixed(3)} %`,display:!0,font:e=>({size:e.chart.width/958*14}),padding:5}}},label1:{type:"label",position:{x:"end",y:"start"},xValue:100,yValue:50,content:a,textAlign:"right",color:d,font:e=>({size:e.chart.width/958*14})}}}}}},[n,s,e]),x=(0,i.useMemo)(()=>({datasets:[{label:"APY",data:h,borderColor:"#60D3CB",backgroundColor:"#60D3CB",borderWidth:1,pointRadius:0,yAxisID:"y"},{label:"APR",data:u,borderColor:"#D557EA",backgroundColor:"#D557EA",borderWidth:1,pointRadius:0,yAxisID:"y"},{label:"Inflation",data:d,borderColor:"#EC4673",backgroundColor:"#EC4673",borderWidth:1,pointRadius:0,yAxisID:"y"}]}),[h,u,d]);return(0,c.jsx)("div",{ref:a,className:"LineChart",style:{width:"100%",maxWidth:"1200px",aspectRatio:1.6,margin:"0 auto"},children:x&&b?(0,c.jsx)(p.t1,{ref:t,type:"scatter",options:b,data:x}):(0,c.jsx)(c.Fragment,{})})};var C=a(23217);const k=({onExitFullscreen:e})=>{const{zoomIn:t,zoomOut:a,resetTransform:i}=(0,C._5)();return(0,c.jsxs)("div",{className:"zoomable-mermaid__controls",children:[(0,c.jsx)("button",{type:"button",className:"zoomable-mermaid__iconbtn",title:"Exit fullscreen","aria-label":"Exit fullscreen",onClick:e,children:(0,c.jsx)(s.g,{icon:d.yYc})}),(0,c.jsx)("span",{className:"zoomable-mermaid__divider","aria-hidden":"true"})," ",(0,c.jsx)("button",{type:"button",className:"zoomable-mermaid__iconbtn",title:"Fit width","aria-label":"Fit width",onClick:()=>i(),children:(0,c.jsx)(s.g,{icon:d.fGk})}),(0,c.jsx)("span",{className:"zoomable-mermaid__divider","aria-hidden":"true"}),(0,c.jsx)("button",{type:"button",className:"zoomable-mermaid__iconbtn",title:"Zoom in","aria-label":"Zoom in",onClick:()=>t(),children:(0,c.jsx)(s.g,{icon:d.QLR})}),(0,c.jsx)("button",{type:"button",className:"zoomable-mermaid__iconbtn",title:"Zoom out","aria-label":"Zoom out",onClick:()=>a(),children:(0,c.jsx)(s.g,{icon:d.EZy})})]})},j=({children:e,title:t})=>{const[a,o]=(0,i.useState)(!1),[n,r]=(0,i.useState)(!1),s=(0,i.useCallback)(()=>{o(!0),window.history.pushState({zoomableMermaidOpen:!0},"")},[]),l=(0,i.useCallback)(()=>{o(!1),window.history.state?.zoomableMermaidOpen&&window.history.back()},[]);(0,i.useEffect)(()=>{const e=e=>{"Escape"===e.key&&a&&l()},t=e=>{a&&!e.state?.zoomableMermaidOpen&&o(!1)};if(a)return document.body.classList.add("zoomable-mermaid-no-scroll"),document.addEventListener("keydown",e),window.addEventListener("popstate",t),()=>{document.body.classList.remove("zoomable-mermaid-no-scroll"),document.removeEventListener("keydown",e),window.removeEventListener("popstate",t)}},[a,l]),(0,i.useEffect)(()=>()=>{document.body.classList.remove("zoomable-mermaid-no-scroll")},[]);return a?(0,c.jsx)("div",{className:"zoomable-mermaid-emulated-fullscreen","aria-label":t??"Mermaid diagram",children:(0,c.jsxs)(C.GT,{initialScale:1,doubleClick:{mode:"reset"},limitToBounds:!0,centerZoomedOut:!1,minScale:.1,maxScale:10,onPanningStart:()=>r(!0),onPanningStop:()=>r(!1),children:[(0,c.jsx)(k,{onExitFullscreen:l}),(0,c.jsx)(C.WZ,{wrapperClass:"zoomable-mermaid__transform-wrapper"+(n?" is-panning":""),contentClass:"zoomable-mermaid__transform-content",children:e})]})}):(0,c.jsx)("div",{className:"zoomable-mermaid","aria-label":t??"Mermaid diagram",role:"button",tabIndex:0,onClick:e=>{if(a)return;e.target.closest(".zoomable-mermaid__btn")||s()},onKeyDown:e=>{a||"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),s())},children:e})},N={...o.A,Tabs:n.A,TabItem:r.A,OverviewBox:function(e){return e.floating?(0,c.jsx)("div",{className:"overview-box-wrapper",children:(0,c.jsxs)("div",{className:"content-floating",children:[(0,c.jsx)("img",{className:"img-floating",src:e.imgSrc}),(0,c.jsx)("h3",{className:"title",children:e.title}),e.children,(0,c.jsxs)("a",{className:"action-link",href:e.linkHref,children:[e.linkText," ",(0,c.jsx)(s.g,{icon:"arrow-right",className:"link-icon"})]})]})}):(0,c.jsxs)("div",{className:"overview-box-wrapper",children:[(0,c.jsxs)("div",{className:"content-left",children:[(0,c.jsx)("h3",{className:"title",children:e.title}),e.children,(0,c.jsxs)("a",{className:"action-link",href:e.linkHref,target:e.external?"_blank":"",children:[e.linkText," ",(0,c.jsx)(s.g,{icon:"arrow-right",className:"link-icon"})]})]}),(0,c.jsx)("div",{className:"img-right-container",children:(0,c.jsx)("img",{className:"img-right",src:e.imgSrc})})]})},OverviewVideoBox:function(e){return(0,c.jsxs)("div",{className:"overview-video-box-wrapper",children:[(0,c.jsxs)("div",{className:"content-wrapper",children:[(0,c.jsx)("h3",{className:"title",children:e.title}),e.children]}),(0,c.jsx)("div",{className:"video-wrapper",children:(0,c.jsx)(u,{videoId:e.videoId})})]})},YoutubePlayer:u,ActionCard:function(e){return(0,c.jsxs)("a",{href:e.href,className:"actionCard",children:[(0,c.jsxs)("h2",{className:"actionCardLinkText",children:[e.text," ",(0,c.jsx)(s.g,{icon:"arrow-right",className:"link-icon"})]}),(0,c.jsx)("div",{className:"actionCardLinkDesc",children:e.desc})]})},ActionCardWrapper:function(e){return(0,c.jsxs)("div",{className:"wrapper",children:[(0,c.jsx)("h3",{className:"actionCardWrapperTitle",children:e.title}),(0,c.jsx)("div",{className:"content-wrapper",children:e.children})]})},RewardCurve:w,ZoomableMermaid:j}},47790(){},73072(e,t,a){"use strict";a.d(t,{A:()=>p});a(96540);var i=a(34164),o=a(28774),n=a(21312),r=a(44070),s=a(17559),l=a(53886),d=a(23025),c=a(74848);const u={unreleased:function({siteTitle:e,versionMetadata:t}){return(0,c.jsx)(n.A,{id:"theme.docs.versions.unreleasedVersionLabel",description:"The label used to tell the user that he's browsing an unreleased doc version",values:{siteTitle:e,versionLabel:(0,c.jsx)("b",{children:t.label})},children:"This is unreleased documentation for {siteTitle} {versionLabel} version."})},unmaintained:function({siteTitle:e,versionMetadata:t}){return(0,c.jsx)(n.A,{id:"theme.docs.versions.unmaintainedVersionLabel",description:"The label used to tell the user that he's browsing an unmaintained doc version",values:{siteTitle:e,versionLabel:(0,c.jsx)("b",{children:t.label})},children:"This is documentation for {siteTitle} {versionLabel}, which is no longer actively maintained."})}};function m(e){const t=u[e.versionMetadata.banner];return(0,c.jsx)(t,{...e})}function h({versionLabel:e,to:t,onClick:a}){return(0,c.jsx)(n.A,{id:"theme.docs.versions.latestVersionSuggestionLabel",description:"The label used to tell the user to check the latest version",values:{versionLabel:e,latestVersionLink:(0,c.jsx)("b",{children:(0,c.jsx)(o.A,{to:t,onClick:a,children:(0,c.jsx)(n.A,{id:"theme.docs.versions.latestVersionLinkLabel",description:"The label used for the latest version suggestion link label",children:"latest version"})})})},children:"For up-to-date documentation, see the {latestVersionLink} ({versionLabel})."})}function b({className:e,versionMetadata:t}){const{pluginId:a}=(0,r.vT)({failfast:!0}),{savePreferredVersionName:o}=(0,l.g1)(a),{latestDocSuggestion:n,latestVersionSuggestion:d}=(0,r.HW)(a),u=n??(b=d).docs.find(e=>e.id===b.mainDocId);var b;return(0,c.jsxs)("div",{className:(0,i.A)(e,s.G.docs.docVersionBanner,"alert alert--warning margin-bottom--md"),role:"alert",children:[(0,c.jsx)("div",{children:(0,c.jsx)(m,{siteTitle:"Polymesh SDK",versionMetadata:t})}),(0,c.jsx)("div",{className:"margin-top--md",children:(0,c.jsx)(h,{versionLabel:d.label,to:u.path,onClick:()=>o(d.name)})})]})}function p({className:e}){const t=(0,d.r)();return t.banner?(0,c.jsx)(b,{className:e,versionMetadata:t}):null}}}]);