(self.webpackChunkpolymesh_developer_documentation=self.webpackChunkpolymesh_developer_documentation||[]).push([[18401],{66523:(e,t,r)=>{"use strict";r.d(t,{A:()=>x});r(96540);var a=r(34164),i=r(56289),n=r(50539),o=r(56942),s=r(204),l=r(96351),d=r(21858),c=r(74848);const u={unreleased:function(e){let{siteTitle:t,versionMetadata:r}=e;return(0,c.jsx)(n.A,{id:"theme.docs.versions.unreleasedVersionLabel",description:"The label used to tell the user that he's browsing an unreleased doc version",values:{siteTitle:t,versionLabel:(0,c.jsx)("b",{children:r.label})},children:"This is unreleased documentation for {siteTitle} {versionLabel} version."})},unmaintained:function(e){let{siteTitle:t,versionMetadata:r}=e;return(0,c.jsx)(n.A,{id:"theme.docs.versions.unmaintainedVersionLabel",description:"The label used to tell the user that he's browsing an unmaintained doc version",values:{siteTitle:t,versionLabel:(0,c.jsx)("b",{children:r.label})},children:"This is documentation for {siteTitle} {versionLabel}, which is no longer actively maintained."})}};function h(e){const t=u[e.versionMetadata.banner];return(0,c.jsx)(t,{...e})}function p(e){let{versionLabel:t,to:r,onClick:a}=e;return(0,c.jsx)(n.A,{id:"theme.docs.versions.latestVersionSuggestionLabel",description:"The label used to tell the user to check the latest version",values:{versionLabel:t,latestVersionLink:(0,c.jsx)("b",{children:(0,c.jsx)(i.A,{to:r,onClick:a,children:(0,c.jsx)(n.A,{id:"theme.docs.versions.latestVersionLinkLabel",description:"The label used for the latest version suggestion link label",children:"latest version"})})})},children:"For up-to-date documentation, see the {latestVersionLink} ({versionLabel})."})}function b(e){let{className:t,versionMetadata:r}=e;const{pluginId:i}=(0,o.vT)({failfast:!0}),{savePreferredVersionName:n}=(0,l.g1)(i),{latestDocSuggestion:d,latestVersionSuggestion:u}=(0,o.HW)(i),b=d??(x=u).docs.find((e=>e.id===x.mainDocId));var x;return(0,c.jsxs)("div",{className:(0,a.A)(t,s.G.docs.docVersionBanner,"alert alert--warning margin-bottom--md"),role:"alert",children:[(0,c.jsx)("div",{children:(0,c.jsx)(h,{siteTitle:"Polymesh SDK",versionMetadata:r})}),(0,c.jsx)("div",{className:"margin-top--md",children:(0,c.jsx)(p,{versionLabel:u.label,to:b.path,onClick:()=>n(u.name)})})]})}function x(e){let{className:t}=e;const r=(0,d.r)();return r.banner?(0,c.jsx)(b,{className:t,versionMetadata:r}):null}},76286:(e,t,r)=>{"use strict";r.d(t,{A:()=>w});var a=r(96540),i=r(36176),n=r(65537),o=r(79329),s=r(46784),l=r(37107),d=r(66188),c=r(74848);l.Yv.add(d.X7I);const u=e=>{let{videoId:t}=e;return(0,c.jsx)("div",{className:"video-responsive",children:(0,c.jsx)("iframe",{width:"853",height:"480",src:`https://www.youtube-nocookie.com/embed/${t}?noref=true&modestbranding=1&rel=0&autoplay=0`,title:"YouTube video player",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})})};l.Yv.add(d.X7I);var h=r(8532),p=r(66118),b=r(5638),x=r(44731),m=r(19588),v=r(2026);const y="wss://rpc.polymesh.network";let g=null;async function f(){if(!g){const e=new m.E(y);g=await v.G.create({provider:e,noInitWarn:!0})}return g}p.t1.register(p.PP,p.kc,p.FN,p.No,p.hE,p.m_,p.s$,p.Pz,b.A);const C=(e,t)=>{const r=2.5,a=e<=70?r+e/70*11.5:r+11.5*2**((70-e)/5),i=14e9/t,n=Math.min(a,i);return{apr:n/e*100,inflation:n,apy:100*((1+n/e/365)**365-1)}},k=()=>{const{colorMode:e}=(0,h.G)(),t=(0,a.useRef)(null),r=(0,a.useRef)(null),i=(0,a.useRef)(!1),[n,o]=(0,a.useState)(null),[s,l]=(0,a.useState)(null);(0,a.useEffect)((()=>{(async()=>{try{const e=await async function(){const e=await f(),t=await e.query.balances.totalIssuance();return Number(t.toString())/1e6}(),t=await async function(){const e=await f(),t=await e.query.staking.currentEra(),r=await e.query.staking.erasTotalStake(t.toString());return Number(r.toString())/1e6}();i.current&&(o(e),l(t))}catch(e){console.error("Failed to fetch chain data:",e)}})()}),[]),(0,a.useEffect)((()=>(i.current=!0,()=>{i.current=!1})),[]);const{inflationCurve:d,rewardCurve:u,apyRewardCurve:p}=(0,a.useMemo)((()=>{if(!n)return{inflationCurve:[],rewardCurve:[],apyRewardCurve:[]};const e=[],t=[],r=[];for(let a=0;a<=100;a+=.2){const{inflation:i,apr:o,apy:s}=C(a,n);e.push({x:a,y:i}),t.push({x:a,y:o}),r.push({x:a,y:s})}return{inflationCurve:e,rewardCurve:t,apyRewardCurve:r}}),[n]),b=(0,a.useMemo)((()=>{const t=n&&s?((e,t)=>e/t*100)(s,n):0,r=n&&s?[`Total Supply: ${n.toLocaleString()} POLYX`,`Total Staked: ${s.toLocaleString()} POLYX`,`Percentage Staked: ${t.toFixed(3)}%`]:["Loading..."],{apr:a,inflation:i,apy:o}=C(s/n*100,n),l="dark"===e,d=l?"#e3e3e3":"#666666",c=l?"#444444":"#e3e3e3";return{responsive:!0,maintainAspectRatio:!0,aspectRatio:1.6,showLine:!0,animation:{duration:100},scales:{x:{title:{display:!0,text:"Percent of Total POLYX Staked",color:d},ticks:{callback:function(e){return e+"%"},color:d},grid:{color:c}},y:{max:50,ticks:{callback:function(e){return e+"%"},color:d},grid:{color:c}}},hover:{mode:"point"},elements:{point:{hoverRadius:0}},plugins:{title:{display:!0,text:"Polymesh Staking Reward / Inflation Curve",padding:20,color:d},legend:{display:!0,position:"bottom",labels:{usePointStyle:!0,pointStyle:"line",padding:20,color:d}},tooltip:{enabled:!0,mode:"nearest",intersect:!1,callbacks:{label:e=>`${e.dataset.label}: ${e.parsed.y.toFixed(2)}%`},backgroundColor:l?"#1a1a1a":"rgba(255, 255, 255, 0.9)",titleColor:d,bodyColor:d,borderColor:c,borderWidth:1},annotation:{annotations:{...o&&a&&i&&{line1:{type:"line",yMin:0,yMax:o,xMin:t,xMax:t,borderColor:"#170087",borderWidth:2,borderDash:[5,5],label:{position:"20%",backgroundColor:"#170087",content:`${t.toFixed(3)} %`,display:!0}},point1:{type:"point",xValue:t,yValue:i,radius:3,borderColor:"#EC4673",backgroundColor:"#EC4673",borderWidth:2},point2:{type:"point",xValue:t,yValue:a,radius:3,borderColor:"#D557EA",backgroundColor:"#D557EA",borderWidth:2},point3:{type:"point",xValue:t,yValue:o,radius:3,borderColor:"#60D3CB",backgroundColor:"#60D3CB",borderWidth:2},line2:{type:"line",yMin:a,yMax:a,xMin:0,xMax:t,borderColor:"#D557EA",borderWidth:2,borderDash:[5,5],label:{position:"50%",backgroundColor:"#D557EA",content:`APR: ${a.toFixed(3)} %`,display:!0}},line3:{type:"line",yMin:i,yMax:i,xMin:0,xMax:t,borderColor:"#EC4673",borderWidth:2,borderDash:[5,5],label:{position:"20%",backgroundColor:"#EC4673",content:`Inflation: ${i.toFixed(3)} %`,display:!0}},line4:{type:"line",yMin:o,yMax:o,xMin:0,xMax:t,borderColor:"#60D3CB",borderWidth:2,borderDash:[5,5],label:{position:"20%",backgroundColor:"#60D3CB",content:`APY: ${o.toFixed(3)} %`,display:!0}}},label1:{type:"label",position:{x:"end",y:"start"},xValue:100,yValue:50,content:r,textAlign:"right",color:d}}}}}}),[n,s,e]),m=(0,a.useMemo)((()=>({datasets:[{label:"APY",data:p,borderColor:"#60D3CB",backgroundColor:"#60D3CB",borderWidth:2,pointRadius:0,yAxisID:"y"},{label:"APR",data:u,borderColor:"#D557EA",backgroundColor:"#D557EA",borderWidth:2,pointRadius:0,yAxisID:"y"},{label:"Inflation",data:d,borderColor:"#EC4673",backgroundColor:"#EC4673",borderWidth:2,pointRadius:0,yAxisID:"y"}]})),[p,u,d]);return(0,c.jsx)("div",{ref:r,className:"LineChart",style:{width:"100%",maxWidth:"1200px",aspectRatio:1.6,margin:"0 auto"},children:m&&b?(0,c.jsx)(x.t1,{ref:t,type:"scatter",options:b,data:m}):(0,c.jsx)(c.Fragment,{})})},w={...i.A,Tabs:n.A,TabItem:o.A,OverviewBox:function(e){return e.floating?(0,c.jsx)("div",{className:"overview-box-wrapper",children:(0,c.jsxs)("div",{className:"content-floating",children:[(0,c.jsx)("img",{className:"img-floating",src:e.imgSrc}),(0,c.jsx)("h3",{className:"title",children:e.title}),e.children,(0,c.jsxs)("a",{className:"action-link",href:e.linkHref,children:[e.linkText," ",(0,c.jsx)(s.g,{icon:"arrow-right",className:"link-icon"})]})]})}):(0,c.jsxs)("div",{className:"overview-box-wrapper",children:[(0,c.jsxs)("div",{className:"content-left",children:[(0,c.jsx)("h3",{className:"title",children:e.title}),e.children,(0,c.jsxs)("a",{className:"action-link",href:e.linkHref,target:e.external?"_blank":"",children:[e.linkText," ",(0,c.jsx)(s.g,{icon:"arrow-right",className:"link-icon"})]})]}),(0,c.jsx)("div",{className:"img-right-container",children:(0,c.jsx)("img",{className:"img-right",src:e.imgSrc})})]})},OverviewVideoBox:function(e){return(0,c.jsxs)("div",{className:"overview-video-box-wrapper",children:[(0,c.jsxs)("div",{className:"content-wrapper",children:[(0,c.jsx)("h3",{className:"title",children:e.title}),e.children]}),(0,c.jsx)("div",{className:"video-wrapper",children:(0,c.jsx)(u,{videoId:e.videoId})})]})},YoutubePlayer:u,ActionCard:function(e){return(0,c.jsxs)("a",{href:e.href,className:"actionCard",children:[(0,c.jsxs)("h2",{className:"actionCardLinkText",children:[e.text," ",(0,c.jsx)(s.g,{icon:"arrow-right",className:"link-icon"})]}),(0,c.jsx)("div",{className:"actionCardLinkDesc",children:e.desc})]})},ActionCardWrapper:function(e){return(0,c.jsxs)("div",{className:"wrapper",children:[(0,c.jsx)("h3",{className:"actionCardWrapperTitle",children:e.title}),(0,c.jsx)("div",{className:"content-wrapper",children:e.children})]})},RewardCurve:k}},47790:()=>{}}]);