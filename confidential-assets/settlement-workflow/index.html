<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-core-concepts/confidential-assets/confidential-assets-settlement-workflow" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.2">
<title data-rh="true">Settlement Workflow | Polymesh Documentation Portal</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://polymeshassociation.github.io/polymesh-documentation-site/confidential-assets/settlement-workflow/"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Settlement Workflow | Polymesh Documentation Portal"><meta data-rh="true" name="description" content="Settlement lifecycle and transaction workflows for confidential assets"><meta data-rh="true" property="og:description" content="Settlement lifecycle and transaction workflows for confidential assets"><link data-rh="true" rel="icon" href="/polymesh-documentation-site/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://polymeshassociation.github.io/polymesh-documentation-site/confidential-assets/settlement-workflow/"><link data-rh="true" rel="alternate" href="https://polymeshassociation.github.io/polymesh-documentation-site/confidential-assets/settlement-workflow/" hreflang="en"><link data-rh="true" rel="alternate" href="https://polymeshassociation.github.io/polymesh-documentation-site/confidential-assets/settlement-workflow/" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://K25SRS7O1D-dsn.algolia.net" crossorigin="anonymous"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Core Concepts","item":"https://polymeshassociation.github.io/polymesh-documentation-site/core-concepts"},{"@type":"ListItem","position":2,"name":"Confidential Assets","item":"https://polymeshassociation.github.io/polymesh-documentation-site/confidential-assets"},{"@type":"ListItem","position":3,"name":"Settlement Workflow","item":"https://polymeshassociation.github.io/polymesh-documentation-site/confidential-assets/settlement-workflow"}]}</script><link rel="search" type="application/opensearchdescription+xml" title="Polymesh Documentation Portal" href="/polymesh-documentation-site/opensearch.xml"><link rel="stylesheet" href="/polymesh-documentation-site/assets/css/styles.d2ce381a.css">
<script src="/polymesh-documentation-site/assets/js/runtime~main.a419e1ee.js" defer="defer"></script>
<script src="/polymesh-documentation-site/assets/js/main.cfb0fc3a.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||"light"),document.documentElement.setAttribute("data-theme-choice",t||"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/polymesh-documentation-site/"><div class="navbar__logo"><img src="/polymesh-documentation-site/img/logo.svg" alt="Polymesh Logo" class="themedComponent_mlkZ themedComponent--light_NVdE" width="150px"><img src="/polymesh-documentation-site/img/logo.svg" alt="Polymesh Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU" width="150px"></div><b class="navbar__title text--truncate"></b></a><a class="navbar__item navbar__link" href="/polymesh-documentation-site/sdk-docs/">SDK API Docs</a><div class="navbar__item dropdown dropdown--hoverable"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/polymesh-documentation-site/sdk-docs/">v29.0.x</a><ul class="dropdown__menu"><li class=""><div>SDK Docs Version</div></li><li><a class="dropdown__link" href="/polymesh-documentation-site/sdk-docs/">v29.0.x</a></li><li><a class="dropdown__link" href="/polymesh-documentation-site/sdk-docs/v28.0.x/">v28.0.x</a></li><li><a class="dropdown__link" href="/polymesh-documentation-site/sdk-docs/v27.7.x/">v27.7.x</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Rust Docs</a><ul class="dropdown__menu"><li><a href="https://docs.polymesh.live/polymesh" target="_blank" rel="noopener noreferrer" class="dropdown__link">Polymesh Runtime<svg width="12" height="12" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li><a href="https://private-docs.polymesh.live/polymesh_private" target="_blank" rel="noopener noreferrer" class="dropdown__link">Polymesh Private Runtime<svg width="12" height="12" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li><a href="https://docs.rs/polymesh-api/latest/polymesh_api/" target="_blank" rel="noopener noreferrer" class="dropdown__link">Polymesh Client API<svg width="12" height="12" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li><a href="https://docs.rs/polymesh-ink/latest/polymesh_ink/" target="_blank" rel="noopener noreferrer" class="dropdown__link">ink! Contracts API<svg width="12" height="12" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href="https://github.com/PolymeshAssociation" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search (Meta+k)" aria-keyshortcuts="Meta+k"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 24 24" aria-hidden="true"><circle cx="11" cy="11" r="8" stroke="currentColor" fill="none" stroke-width="1.4"></circle><path d="m21 21-4.3-4.3" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/polymesh-documentation-site/"><span title="Introduction" class="linkLabel_WmDU">Introduction</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/polymesh-documentation-site/getting-started/"><span title="Getting Started" class="categoryLinkLabel_W154">Getting Started</span></a><button aria-label="Expand sidebar category &#x27;Getting Started&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--active" href="/polymesh-documentation-site/core-concepts/"><span title="Core Concepts" class="categoryLinkLabel_W154">Core Concepts</span></a><button aria-label="Collapse sidebar category &#x27;Core Concepts&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/polymesh-documentation-site/architecture/"><span title="Architecture" class="linkLabel_WmDU">Architecture</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" tabindex="0" href="/polymesh-documentation-site/polyx/"><span title="POLYX" class="categoryLinkLabel_W154">POLYX</span></a><button aria-label="Expand sidebar category &#x27;POLYX&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" tabindex="0" href="/polymesh-documentation-site/identity/"><span title="Identity" class="categoryLinkLabel_W154">Identity</span></a><button aria-label="Expand sidebar category &#x27;Identity&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" tabindex="0" href="/polymesh-documentation-site/core/assets/"><span title="Assets" class="categoryLinkLabel_W154">Assets</span></a><button aria-label="Expand sidebar category &#x27;Assets&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" tabindex="0" href="/polymesh-documentation-site/compliance/"><span title="Compliance" class="categoryLinkLabel_W154">Compliance</span></a><button aria-label="Expand sidebar category &#x27;Compliance&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" tabindex="0" href="/polymesh-documentation-site/settlement/"><span title="Settlement" class="categoryLinkLabel_W154">Settlement</span></a><button aria-label="Expand sidebar category &#x27;Settlement&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" tabindex="0" href="/polymesh-documentation-site/corporate-actions/"><span title="Corporate Actions" class="categoryLinkLabel_W154">Corporate Actions</span></a><button aria-label="Expand sidebar category &#x27;Corporate Actions&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" tabindex="0" href="/polymesh-documentation-site/portfolios/"><span title="Portfolios" class="categoryLinkLabel_W154">Portfolios</span></a><button aria-label="Expand sidebar category &#x27;Portfolios&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--active" tabindex="0" href="/polymesh-documentation-site/confidential-assets/"><span title="Confidential Assets" class="categoryLinkLabel_W154">Confidential Assets</span></a><button aria-label="Collapse sidebar category &#x27;Confidential Assets&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/polymesh-documentation-site/confidential-assets/architecture/"><span title="Architecture" class="linkLabel_WmDU">Architecture</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/polymesh-documentation-site/confidential-assets/onboarding-accounts/"><span title="Onboarding &amp; Accounts" class="linkLabel_WmDU">Onboarding &amp; Accounts</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/polymesh-documentation-site/confidential-assets/asset-operations/"><span title="Asset Operations" class="linkLabel_WmDU">Asset Operations</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/polymesh-documentation-site/confidential-assets/settlement-workflow/"><span title="Settlement Workflow" class="linkLabel_WmDU">Settlement Workflow</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/polymesh-documentation-site/confidential-assets/compliance-and-regulation/"><span title="Compliance &amp; Regulation" class="linkLabel_WmDU">Compliance &amp; Regulation</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/polymesh-documentation-site/confidential-assets/anonymous-fees/"><span title="Anonymous Fees" class="linkLabel_WmDU">Anonymous Fees</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/polymesh-documentation-site/confidential-assets/comparisons/"><span title="Comparisons" class="linkLabel_WmDU">Comparisons</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/polymesh-documentation-site/confidential-assets/glossary/"><span title="Glossary" class="linkLabel_WmDU">Glossary</span></a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/polymesh-documentation-site/governance/"><span title="Governance" class="linkLabel_WmDU">Governance</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" tabindex="0" href="/polymesh-documentation-site/polymesh-private/"><span title="Polymesh Private" class="categoryLinkLabel_W154">Polymesh Private</span></a><button aria-label="Expand sidebar category &#x27;Polymesh Private&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/polymesh-documentation-site/glossary/"><span title="Glossary" class="linkLabel_WmDU">Glossary</span></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/polymesh-documentation-site/development/"><span title="Developer Resources" class="categoryLinkLabel_W154">Developer Resources</span></a><button aria-label="Expand sidebar category &#x27;Developer Resources&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/polymesh-documentation-site/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/polymesh-documentation-site/core-concepts/"><span>Core Concepts</span></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/polymesh-documentation-site/confidential-assets/"><span>Confidential Assets</span></a></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">Settlement Workflow</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Confidential Assets: Settlement Workflow</h1></header>
<p>This page describes the lifecycle and mechanics of confidential settlements (transfers) on Polymesh. For related setup and asset flows, see <a class="" href="/polymesh-documentation-site/confidential-assets/onboarding-accounts/">Onboarding &amp; Accounts</a> and <a class="" href="/polymesh-documentation-site/confidential-assets/asset-operations/">Asset Operations</a>.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="overview">Overview<a href="#overview" class="hash-link" aria-label="Direct link to Overview" title="Direct link to Overview" translate="no">​</a></h2>
<p>Confidential settlement is intentionally multi-phase to align with regulated-market requirements and architectural constraints:</p>
<ul>
<li class=""><strong>Creation (publish)</strong>: Encrypted legs and a settlement proof are recorded; no balances change.</li>
<li class=""><strong>Affirmations (consent)</strong>: Sender/receiver (and mediator, if required) explicitly affirm or reject.</li>
<li class=""><strong>Claim (credit)</strong>: Receiver claims to credit value into finalized balance; counters update accordingly.</li>
</ul>
<p>Why this design?</p>
<ul>
<li class=""><strong>Receiver affirmation</strong>: Mirrors institutional securities workflows where receivers must accept obligations before credit.</li>
<li class=""><strong>Non-interactivity</strong>: Parties act asynchronously; senders can initiate while receivers are offline.</li>
<li class=""><strong>Concurrency handling</strong>: Pending counters prevent state conflicts and make Proof of Balance workable.</li>
<li class=""><strong>Compliance gating</strong>: Mediators provide prospective control when asset policy requires it.</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="roles-in-a-settlement">Roles in a Settlement<a href="#roles-in-a-settlement" class="hash-link" aria-label="Direct link to Roles in a Settlement" title="Direct link to Roles in a Settlement" translate="no">​</a></h2>
<p>Confidential settlements involve clearly defined roles:</p>
<ul>
<li class=""><strong>Sender:</strong> Affirms the leg that transfers value. When affirmed, their spendable balance is debited and the pending counter increases.</li>
<li class=""><strong>Receiver:</strong> Explicitly affirms acceptance of value; later claims to credit the incoming amount into the finalized balance.</li>
<li class=""><strong>Mediator (optional):</strong> Active compliance participant who must affirm or reject when required by asset policy; gates execution.</li>
<li class=""><strong>Auditor (optional):</strong> Passive compliance participant who can decrypt asset-specific leg details for retrospective verification; does not gate execution.</li>
</ul>
<p>This dual model (mediators vs. auditors) provides prospective control and retrospective visibility without sacrificing on-chain confidentiality.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="settlement-lifecycle">Settlement Lifecycle<a href="#settlement-lifecycle" class="hash-link" aria-label="Direct link to Settlement Lifecycle" title="Direct link to Settlement Lifecycle" translate="no">​</a></h2>
<p>At a high level, a confidential transfer/settlement has three phases:</p>
<ol>
<li class=""><strong>Creation</strong>: publish the encrypted legs and a settlement proof.</li>
<li class=""><strong>Affirmations</strong>: sender/receiver (and optionally mediator) record their decision.</li>
<li class=""><strong>Claim/finalization</strong>: the receiver claims and credits the value.</li>
</ol>
<p>Why split it this way?</p>
<ul>
<li class="">Receiver affirmation is a real-world requirement for institutional securities-style transfers.</li>
<li class="">The protocol must support asynchronous parties (senders and receivers do not need to be online at the same time).</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="lifecycle-detailed">Lifecycle (detailed)<a href="#lifecycle-detailed" class="hash-link" aria-label="Direct link to Lifecycle (detailed)" title="Direct link to Lifecycle (detailed)" translate="no">​</a></h3>
<div class="zoomable-mermaid" aria-label="Mermaid diagram" role="button" tabindex="0"></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="core-flow-diagram">Core flow diagram<a href="#core-flow-diagram" class="hash-link" aria-label="Direct link to Core flow diagram" title="Direct link to Core flow diagram" translate="no">​</a></h3>
<div class="zoomable-mermaid" aria-label="Mermaid diagram" role="button" tabindex="0"></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="creating-a-settlement">Creating a Settlement<a href="#creating-a-settlement" class="hash-link" aria-label="Direct link to Creating a Settlement" title="Direct link to Creating a Settlement" translate="no">​</a></h2>
<p>A settlement is created by defining the transaction legs (sender, receiver, asset type, and value) and generating proofs that ensure both cryptographic validity and regulatory compliance. The creator (who may be a separate entity from the sender or receiver) publishes:</p>
<ol>
<li class="">
<p><strong>Encrypted leg data</strong> — Encrypted for multiple parties: the sender, receiver, and any designated auditors/mediators retrieved from the on-chain regulatory list. This enables selective visibility for compliance oversight without revealing details to the public.</p>
</li>
<li class="">
<p><strong>Zero-Knowledge Settlement Proof</strong> — A non-interactive zero-knowledge proof (NIZK) demonstrating:</p>
<ul>
<li class=""><strong>Ciphertext well-formedness:</strong> All encrypted values (identities, amounts, asset types) are correctly constructed.</li>
<li class=""><strong>Regulatory consistency:</strong> The asset type and its compliance rules match the on-chain regulatory registry.</li>
<li class=""><strong>Value integrity:</strong> The transfer amount is positive and within system bounds.</li>
</ul>
</li>
</ol>
<p>The proof also uses accumulator membership to hide which specific asset type is being transferred, maintaining unlinkability while still verifying regulatory compliance.</p>
<p><strong>Chain Recording:</strong> Upon validation, the chain assigns a unique settlement identifier and records it in a pending state. Importantly, no balances are deducted yet—the sender&#x27;s funds remain spendable until they explicitly affirm the settlement. The settlement remains &quot;in transit&quot; awaiting affirmations from required parties (sender, receiver, and mediator if applicable), enabling asynchronous participation where parties need not be online simultaneously.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="find-and-decrypt-a-settlement">Find and decrypt a settlement<a href="#find-and-decrypt-a-settlement" class="hash-link" aria-label="Direct link to Find and decrypt a settlement" title="Direct link to Find and decrypt a settlement" translate="no">​</a></h2>
<p>All parties to a settlement (sender, receiver, mediator, auditor) must first discover the settlement and decrypt the relevant leg details to verify their involvement and inspect the transaction terms before taking action.</p>
<p><strong>Discovery and decryption process:</strong></p>
<ul>
<li class="">Fetch settlement by ID from chain (received from another party or discovered via on-chain scan), pull encrypted legs.</li>
<li class="">Attempt decryption with your account or encryption keys (sender/receiver/mediator/auditor).</li>
<li class="">If decryption succeeds, you are a party to this settlement; save the settlement ID or decrypted leg details locally for verification and proof generation.</li>
<li class=""><strong>Verify the details:</strong> Inspect the sender, receiver, asset type, amount, and any regulatory conditions before deciding to affirm or reject.</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="verifiability-and-privacy-decrypting-leg-data">Verifiability and Privacy (Decrypting Leg Data)<a href="#verifiability-and-privacy-decrypting-leg-data" class="hash-link" aria-label="Direct link to Verifiability and Privacy (Decrypting Leg Data)" title="Direct link to Verifiability and Privacy (Decrypting Leg Data)" translate="no">​</a></h3>
<p>Leg payloads are encrypted so only designated parties can read them (sender, receiver, and asset-specific mediator and auditor keys). A public registry maps assets to their mediator and auditor keys, enabling:</p>
<ul>
<li class=""><strong>Scoped visibility:</strong> Authorized parties can decrypt and inspect the leg details for assets they oversee.</li>
<li class=""><strong>Public confidentiality:</strong> Observers cannot read private values; they only see commitments, nullifiers, and proof validity.</li>
</ul>
<p>This design preserves privacy on the public ledger while supporting per-asset auditability and optional prospective control via mediation.</p>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>Account balances are not included in leg ciphertexts. Balances are represented as commitments and validated via zero-knowledge proofs, so even authorized decryption of a leg does not reveal a participant&#x27;s overall balance.</p></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="sender-affirmation">Sender affirmation<a href="#sender-affirmation" class="hash-link" aria-label="Direct link to Sender affirmation" title="Direct link to Sender affirmation" translate="no">​</a></h2>
<p>After discovering and decrypting the settlement (see <a href="#find-and-decrypt-a-settlement" class="">Find and decrypt a settlement</a>), the sender verifies the leg details and submits an affirmation proof to commit their assets to the transfer.</p>
<p><strong>Effect on balance and counter:</strong></p>
<ul>
<li class="">The sender&#x27;s <strong>spendable balance is immediately reduced</strong> by the transfer amount.</li>
<li class="">The <strong>pending counter increases by 1</strong>, placing the debited amount in a pending state.</li>
<li class="">This prevents double-spending: the same assets cannot be committed to multiple settlements until the original settlement is finalized or reverted.</li>
</ul>
<p><strong>Process:</strong></p>
<ul>
<li class="">Preconditions: account registered on-chain; access to account keys; locally cached account-asset state.</li>
<li class="">Build account leaf path (root + curve tree path) and prepare the decrypted leg.</li>
<li class="">Proof service produces a <strong>sender affirmation proof</strong> that: (a) spends the old state, (b) debits amount, (c) emits a nullifier, (d) increments counter.</li>
<li class="">Submit the <code>senderAffirmation</code> transaction to persist the updated state (new commitment/index).</li>
</ul>
<p>In the underlying construction, the sender proves membership of their old committed state in the accumulator, reveals a nullifier for the old state, and posts a new commitment reflecting the update.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="receiver-affirmation">Receiver affirmation<a href="#receiver-affirmation" class="hash-link" aria-label="Direct link to Receiver affirmation" title="Direct link to Receiver affirmation" translate="no">​</a></h2>
<p>After discovering and decrypting the settlement (see <a href="#find-and-decrypt-a-settlement" class="">Find and decrypt a settlement</a>), the receiver verifies the leg details and decides whether to affirm (accept) or reject the incoming transfer.</p>
<p><strong>Process:</strong></p>
<ul>
<li class="">Preconditions: account registered on-chain; access to account keys; locally cached account-asset state, leaf path, decrypted leg.</li>
<li class="">Proof service produces a <strong>receiver affirmation proof</strong> that increments the pending counter (no balance change).</li>
<li class="">Submit the <code>receiverAffirmation</code> transaction to store the updated state.</li>
</ul>
<p>The affirmation step records consent and increments the counter, enabling the receiver to claim the value after settlement execution.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="mediator-affirmation-or-rejection">Mediator affirmation or rejection<a href="#mediator-affirmation-or-rejection" class="hash-link" aria-label="Direct link to Mediator affirmation or rejection" title="Direct link to Mediator affirmation or rejection" translate="no">​</a></h2>
<p>After discovering and decrypting the settlement (see <a href="#find-and-decrypt-a-settlement" class="">Find and decrypt a settlement</a>), the mediator inspects the leg details and decides whether to affirm (permit) or reject the settlement based on regulatory policy.</p>
<ul>
<li class="">Uses only encryption keys (no account balance state).</li>
<li class="">Proof service produces a <strong>mediator affirmation proof</strong> with <code>accept=true</code> (approve) or <code>accept=false</code> (reject).</li>
<li class="">Submit <code>mediatorAffirmation</code>; rejection halts the settlement until the sender reverts.</li>
</ul>
<p>Until mediation is complete, the settlement remains pending.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="receiver-claim">Receiver claim<a href="#receiver-claim" class="hash-link" aria-label="Direct link to Receiver claim" title="Direct link to Receiver claim" translate="no">​</a></h2>
<p>After the settlement has been executed (all required parties have affirmed), the receiver submits a <strong>claim</strong> proof that credits the incoming value into their finalized balance and reduces the pending counter.</p>
<ul>
<li class="">Inputs: updated leaf path, decrypted leg, account state.</li>
<li class="">Proof service generates the <strong>claim proof</strong> to credit the incoming amount and decrement the counter.</li>
<li class="">Submit <code>receiverClaim</code>; persist new state.</li>
</ul>
<p>This separation is important: it allows regulated &quot;accept/reject first, credit later&quot; semantics.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="sender-counter-update">Sender counter update<a href="#sender-counter-update" class="hash-link" aria-label="Direct link to Sender counter update" title="Direct link to Sender counter update" translate="no">​</a></h2>
<ul>
<li class="">After execution, sender can generate a <strong>counter update proof</strong> to decrement the counter (no balance change) and make future PoB proofs cheaper.</li>
<li class="">Submit <code>senderUpdateCounter</code>; persist new state.</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="sender-revert">Sender revert<a href="#sender-revert" class="hash-link" aria-label="Direct link to Sender revert" title="Direct link to Sender revert" translate="no">​</a></h2>
<ul>
<li class="">If a mediator rejects, a sender who already affirmed can generate a <strong>revert proof</strong> to restore the debited amount and decrement the counter.</li>
<li class="">Submit <code>senderRevert</code>; persist new state.</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="counter-mechanics-pob-relevance">Counter mechanics (PoB relevance)<a href="#counter-mechanics-pob-relevance" class="hash-link" aria-label="Direct link to Counter mechanics (PoB relevance)" title="Direct link to Counter mechanics (PoB relevance)" translate="no">​</a></h2>
<ul>
<li class="">Affirmations add to the pending counter; claims/reverts/counter-updates subtract from it.</li>
<li class="">Lower counters shrink the footprint of later Proof of Balance proofs by reducing pending legs that must be referenced.</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="counter-system-summary-impact-by-role">Counter System Summary (Impact by Role)<a href="#counter-system-summary-impact-by-role" class="hash-link" aria-label="Direct link to Counter System Summary (Impact by Role)" title="Direct link to Counter System Summary (Impact by Role)" translate="no">​</a></h3>
<table><thead><tr><th>Role</th><th>Action</th><th>Impact on Balance</th><th>Impact on Counter</th></tr></thead><tbody><tr><td><strong>Sender</strong></td><td>Affirm</td><td>−Amount</td><td>+1</td></tr><tr><td><strong>Sender</strong></td><td>Revert (after affirming)</td><td>+Amount</td><td>−1</td></tr><tr><td><strong>Sender</strong></td><td>Update Counter (after execute)</td><td>—</td><td>−1</td></tr><tr><td><strong>Receiver</strong></td><td>Affirm</td><td>—</td><td>+1</td></tr><tr><td><strong>Receiver</strong></td><td>Claim Assets (after execute)</td><td>+Amount</td><td>−1</td></tr><tr><td><strong>Mediator</strong></td><td>Affirm or Reject</td><td>—</td><td>—</td></tr></tbody></table>
<p>Counters make PoB proofs accountable to pending obligations while keeping transaction history private.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="reversion-and-counter-update">Reversion and counter update<a href="#reversion-and-counter-update" class="hash-link" aria-label="Direct link to Reversion and counter update" title="Direct link to Reversion and counter update" translate="no">​</a></h2>
<p>These operations maintain flexibility and efficiency: reversion lets senders reclaim funds from rejected settlements (see <a href="#sender-revert" class="">Sender revert</a>), while counter updates reduce PoB proof size by batch-finalizing completed legs (see <a href="#sender-counter-update" class="">Sender counter update</a>).</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="querying-on-chain-settlement-information">Querying On-Chain Settlement Information<a href="#querying-on-chain-settlement-information" class="hash-link" aria-label="Direct link to Querying On-Chain Settlement Information" title="Direct link to Querying On-Chain Settlement Information" translate="no">​</a></h2>
<p>Applications and authorized participants can inspect settlement state via chain queries. Typical queries include:</p>
<ul>
<li class=""><strong>Settlement state:</strong> Returns the current status (e.g., pending, executed, finalized) for a given settlement reference.</li>
<li class=""><strong>Encrypted legs:</strong> Returns the encrypted leg payloads by index; only authorized keys can decrypt.</li>
<li class=""><strong>Memo:</strong> Returns any optional memo attached to the settlement.</li>
<li class=""><strong>Pending affirmations:</strong> Returns how many affirmations are still required before execution.</li>
<li class=""><strong>Pending finalizations:</strong> Returns how many post-execution steps (claims or counter updates) remain before finalization.</li>
</ul>
<p>These queries enable UIs and services to track lifecycle progression without revealing confidential values.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="batchability-and-multi-party-transactions-mpt">Batchability and Multi-Party Transactions (MPT)<a href="#batchability-and-multi-party-transactions-mpt" class="hash-link" aria-label="Direct link to Batchability and Multi-Party Transactions (MPT)" title="Direct link to Batchability and Multi-Party Transactions (MPT)" translate="no">​</a></h2>
<p>Polymesh Confidential Assets (PCA) support batching multiple proof operations into a single transaction for efficiency. Most operations require an accumulator membership proof (the heaviest part of ZKP computation), so combining related actions reduces transaction count and proving work while preserving confidentiality.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="supported-batching-patterns">Supported batching patterns<a href="#supported-batching-patterns" class="hash-link" aria-label="Direct link to Supported batching patterns" title="Direct link to Supported batching patterns" translate="no">​</a></h3>
<ul>
<li class="">
<p><strong>Multi-party transfers (one sender → many receivers):</strong></p>
<ul>
<li class="">A sender publishes multiple encrypted legs to different receivers in one account state transition.</li>
<li class="">The sender&#x27;s proof shows the total debit equals the sum of all leg values, requiring just one accumulator membership proof.</li>
</ul>
</li>
<li class="">
<p><strong>Multi-party affirmations (one receiver ← many senders):</strong></p>
<ul>
<li class="">A receiver scans for pending legs addressed to them and affirms several in one transaction.</li>
<li class="">The proof demonstrates they can decrypt each selected leg and that the credited amount equals the sum of affirmed values.</li>
</ul>
</li>
<li class="">
<p><strong>Aggregatable reversions (sender reclaim):</strong></p>
<ul>
<li class="">A sender reclaims funds from multiple un-affirmed legs in a single submission.</li>
<li class="">The proof shows the sender authored the referenced legs and updates their balance by the aggregate reversed amount in one state transition.</li>
</ul>
</li>
<li class="">
<p><strong>Efficient account maintenance (PoB helpers):</strong></p>
<ul>
<li class=""><strong>Counter updates (CU):</strong> Batch pointers to finalized legs to reduce the pending counter in one step.</li>
<li class=""><strong>Pending-balance updates (PBU):</strong> Batch updates to reduce hidden pending balance records in one step.</li>
</ul>
</li>
<li class="">
<p><strong>Atomic instant settlements:</strong></p>
<ul>
<li class="">Parties can combine <code>ExecuteInstantSettlement</code> with <code>InstantSenderAffirmation</code> and <code>InstantReceiverAffirmation</code> into a single atomic batch.</li>
<li class="">This creates and fully affirms a settlement in one transaction, assuming off-chain coordination of commitments.</li>
<li class="">Unlike the normal multi-phase flow, instant settlements update balances for both parties without changing counters (sender balance decreases, receiver balance increases, both counters remain unchanged as the complete settlement executes in a single transaction).</li>
</ul>
</li>
<li class="">
<p><strong>Mixed operational batching:</strong></p>
<ul>
<li class="">A single submission can include different proof types, for example: a receiver claim for an older leg, a new sender affirmation, and a sender counter update—all verified together.</li>
</ul>
</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="important-properties">Important properties<a href="#important-properties" class="hash-link" aria-label="Direct link to Important properties" title="Direct link to Important properties" translate="no">​</a></h3>
<ul>
<li class=""><strong>Independent leg tracking:</strong> Each leg&#x27;s per-party affirmation status (sender affirmed, receiver affirmed, mediator decision, etc.) is tracked independently on-chain. This granular tracking allows the system to record which parties have acted on each leg. However, if any leg in a settlement is rejected (e.g., by a mediator), the entire settlement is rejected. Whether remaining legs can be reversed or claimed depends on the settlement&#x27;s overall status.</li>
<li class=""><strong>Per-party decryption responsibilities:</strong> Batching does not compromise participant privacy. Each receiver must still independently discover and decrypt only the legs intended for them using their unique encryption key; unauthorized parties cannot see other participants&#x27; leg details even within a batch.</li>
<li class=""><strong>Amortized proving efficiency:</strong> Batching multiple actions—such as instant settlements or multi-receiver transfers—into a single transaction reduces the cost per action. The most computationally expensive part is the accumulator membership proof; batching allows multiple actions to share a single membership proof and state transition, reducing total on-chain submissions and verification overhead compared to separate transactions.</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="operational-considerations-for-batching">Operational considerations for batching<a href="#operational-considerations-for-batching" class="hash-link" aria-label="Direct link to Operational considerations for batching" title="Direct link to Operational considerations for batching" translate="no">​</a></h2>
<p>Batching improves efficiency but introduces practical nuances you should account for:</p>
<ul>
<li class="">
<p><strong>Concurrency safety:</strong></p>
<ul>
<li class="">Only the account owner can submit transactions that update their account state. This design prevents a scenario where another user&#x27;s settlement execution invalidates your pending proof (e.g., your receiver affirmation proof becomes invalid because a third party&#x27;s settlement changed the chain state you built your proof against).</li>
<li class="">The chain stores a window of recent accumulator roots so a proof against a slightly older root remains valid during broadcast, improving reliability with relayers and enabling asynchronous multi-party affirmations.</li>
</ul>
</li>
<li class="">
<p><strong>Linkability trade-off in maintenance:</strong></p>
<ul>
<li class="">Batching multiple finalized references into one update creates ephemeral linkability between the referenced items (observers can tell those references were processed together in one account update, but amounts and identities remain hidden).</li>
<li class="">If maximum privacy is required, perform updates sequentially; if cost and simplicity are the priority, batch them.</li>
</ul>
</li>
<li class="">
<p><strong>Fee proof priority (relayer flow):</strong></p>
<ul>
<li class="">The fee proof is verified first. If it fails, the transaction is rejected immediately, preventing unfunded, complex batches from consuming resources.</li>
</ul>
</li>
<li class="">
<p><strong>Integrity of batched legs:</strong></p>
<ul>
<li class="">Sender-side MPT proofs must still ensure value conservation (total debit equals sum of leg values) and correct construction of ciphertexts.</li>
<li class="">Receiver-side affirmation proofs must still prove decryptability and correct crediting, regardless of batching.</li>
</ul>
</li>
</ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col noPrint_WFHX"><a href="https://github.com/PolymeshAssociation/polymesh-documentation-site/edit/develop/docs/200-core-concepts/090-confidential-assets/040-settlement-workflows.mdx" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/polymesh-documentation-site/confidential-assets/asset-operations/"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Asset Operations</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/polymesh-documentation-site/confidential-assets/compliance-and-regulation/"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Compliance &amp; Regulation</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#overview" class="table-of-contents__link toc-highlight">Overview</a></li><li><a href="#roles-in-a-settlement" class="table-of-contents__link toc-highlight">Roles in a Settlement</a></li><li><a href="#settlement-lifecycle" class="table-of-contents__link toc-highlight">Settlement Lifecycle</a><ul><li><a href="#lifecycle-detailed" class="table-of-contents__link toc-highlight">Lifecycle (detailed)</a></li><li><a href="#core-flow-diagram" class="table-of-contents__link toc-highlight">Core flow diagram</a></li></ul></li><li><a href="#creating-a-settlement" class="table-of-contents__link toc-highlight">Creating a Settlement</a></li><li><a href="#find-and-decrypt-a-settlement" class="table-of-contents__link toc-highlight">Find and decrypt a settlement</a><ul><li><a href="#verifiability-and-privacy-decrypting-leg-data" class="table-of-contents__link toc-highlight">Verifiability and Privacy (Decrypting Leg Data)</a></li></ul></li><li><a href="#sender-affirmation" class="table-of-contents__link toc-highlight">Sender affirmation</a></li><li><a href="#receiver-affirmation" class="table-of-contents__link toc-highlight">Receiver affirmation</a></li><li><a href="#mediator-affirmation-or-rejection" class="table-of-contents__link toc-highlight">Mediator affirmation or rejection</a></li><li><a href="#receiver-claim" class="table-of-contents__link toc-highlight">Receiver claim</a></li><li><a href="#sender-counter-update" class="table-of-contents__link toc-highlight">Sender counter update</a></li><li><a href="#sender-revert" class="table-of-contents__link toc-highlight">Sender revert</a></li><li><a href="#counter-mechanics-pob-relevance" class="table-of-contents__link toc-highlight">Counter mechanics (PoB relevance)</a><ul><li><a href="#counter-system-summary-impact-by-role" class="table-of-contents__link toc-highlight">Counter System Summary (Impact by Role)</a></li></ul></li><li><a href="#reversion-and-counter-update" class="table-of-contents__link toc-highlight">Reversion and counter update</a></li><li><a href="#querying-on-chain-settlement-information" class="table-of-contents__link toc-highlight">Querying On-Chain Settlement Information</a></li><li><a href="#batchability-and-multi-party-transactions-mpt" class="table-of-contents__link toc-highlight">Batchability and Multi-Party Transactions (MPT)</a><ul><li><a href="#supported-batching-patterns" class="table-of-contents__link toc-highlight">Supported batching patterns</a></li><li><a href="#important-properties" class="table-of-contents__link toc-highlight">Important properties</a></li></ul></li><li><a href="#operational-considerations-for-batching" class="table-of-contents__link toc-highlight">Operational considerations for batching</a></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://discord.gg/9TdzKbKgSU" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://twitter.com/PolymeshNetwork" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://www.linkedin.com/company/polymeshnetwork/" target="_blank" rel="noopener noreferrer" class="footer__link-item">LinkedIn<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://www.youtube.com/c/PolymeshNetwork" target="_blank" rel="noopener noreferrer" class="footer__link-item">YouTube<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://polymesh.network/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Polymesh Website<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://polymesh.network/blog" target="_blank" rel="noopener noreferrer" class="footer__link-item">Blog<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://github.com/PolymeshAssociation" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://polymesh.network/contact-us" target="_blank" rel="noopener noreferrer" class="footer__link-item">Contact Us<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><img src="/polymesh-documentation-site/img/logo.svg" alt="Polymesh Logo" class="footer__logo themedComponent_mlkZ themedComponent--light_NVdE" width="150px"><img src="/polymesh-documentation-site/img/logo.svg" alt="Polymesh Logo" class="footer__logo themedComponent_mlkZ themedComponent--dark_xIcU" width="150px"></div><div class="footer__copyright">Copyright © 2026 Polymesh Association, All Rights Reserved</div></div></div></footer></div>
</body>
</html>