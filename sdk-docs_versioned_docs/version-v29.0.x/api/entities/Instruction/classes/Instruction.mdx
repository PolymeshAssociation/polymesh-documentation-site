---
sidebar_label: "Instruction"
---

# Class: Instruction

Defined in: [src/api/entities/Instruction/index.ts:110](https://github.com/PolymeshAssociation/polymesh-sdk/blob/bee6a2fe7a8ce5db42a6982e793782182cde2153/src/api/entities/Instruction/index.ts#L110)

Represents a settlement Instruction to be executed on a certain Venue

## Extends

- [`Entity`](../../Entity/classes/Entity.mdx)\<[`UniqueIdentifiers`](../interfaces/UniqueIdentifiers.mdx), `string`\>

## Properties

### id

> **id**: `BigNumber`

Defined in: [src/api/entities/Instruction/index.ts:124](https://github.com/PolymeshAssociation/polymesh-sdk/blob/bee6a2fe7a8ce5db42a6982e793782182cde2153/src/api/entities/Instruction/index.ts#L124)

Unique identifier number of the instruction

***

### uuid

> **uuid**: `string`

Defined in: [src/api/entities/Entity.ts:46](https://github.com/PolymeshAssociation/polymesh-sdk/blob/bee6a2fe7a8ce5db42a6982e793782182cde2153/src/api/entities/Entity.ts#L46)

#### Inherited from

[`Entity`](../../Entity/classes/Entity.mdx).[`uuid`](../../Entity/classes/Entity.mdx#uuid)

## Methods

### affirm()

> **affirm**(`args?`: [`AffirmInstructionParams`](../../../procedures/types/type-aliases/AffirmInstructionParams.mdx), `opts?`: [`ProcedureOpts`](../../../procedures/types/interfaces/ProcedureOpts.mdx)): `Promise`\<[`GenericPolymeshTransaction`](../../../procedures/types/type-aliases/GenericPolymeshTransaction.mdx)\<`Instruction`, `Instruction`\>\>

Defined in: [src/api/entities/Instruction/index.ts:889](https://github.com/PolymeshAssociation/polymesh-sdk/blob/bee6a2fe7a8ce5db42a6982e793782182cde2153/src/api/entities/Instruction/index.ts#L889)

Affirm this instruction (authorize)

#### Parameters

<table>
<thead>
<tr>
<th>Parameter</th>
<th>Type</th>
</tr>
</thead>
<tbody>
<tr>
<td>

`args?`

</td>
<td>

[`AffirmInstructionParams`](../../../procedures/types/type-aliases/AffirmInstructionParams.mdx)

</td>
</tr>
<tr>
<td>

`opts?`

</td>
<td>

[`ProcedureOpts`](../../../procedures/types/interfaces/ProcedureOpts.mdx)

</td>
</tr>
</tbody>
</table>

#### Returns

`Promise`\<[`GenericPolymeshTransaction`](../../../procedures/types/type-aliases/GenericPolymeshTransaction.mdx)\<`Instruction`, `Instruction`\>\>

#### Note

this method is of type [OptionalArgsProcedureMethod](../../../procedures/types/interfaces/OptionalArgsProcedureMethod.mdx), which means you can call [affirm.checkAuthorization](../../../procedures/types/interfaces/OptionalArgsProcedureMethod.mdx#checkauthorization) on it to see whether the signing Account and Identity have the required roles and permissions to run it

***

### affirmAsMediator()

> **affirmAsMediator**(`args?`: [`AffirmAsMediatorParams`](../../../procedures/types/type-aliases/AffirmAsMediatorParams.mdx), `opts?`: [`ProcedureOpts`](../../../procedures/types/interfaces/ProcedureOpts.mdx)): `Promise`\<[`GenericPolymeshTransaction`](../../../procedures/types/type-aliases/GenericPolymeshTransaction.mdx)\<`Instruction`, `Instruction`\>\>

Defined in: [src/api/entities/Instruction/index.ts:908](https://github.com/PolymeshAssociation/polymesh-sdk/blob/bee6a2fe7a8ce5db42a6982e793782182cde2153/src/api/entities/Instruction/index.ts#L908)

Affirm this instruction as a mediator (authorize)

#### Parameters

<table>
<thead>
<tr>
<th>Parameter</th>
<th>Type</th>
</tr>
</thead>
<tbody>
<tr>
<td>

`args?`

</td>
<td>

[`AffirmAsMediatorParams`](../../../procedures/types/type-aliases/AffirmAsMediatorParams.mdx)

</td>
</tr>
<tr>
<td>

`opts?`

</td>
<td>

[`ProcedureOpts`](../../../procedures/types/interfaces/ProcedureOpts.mdx)

</td>
</tr>
</tbody>
</table>

#### Returns

`Promise`\<[`GenericPolymeshTransaction`](../../../procedures/types/type-aliases/GenericPolymeshTransaction.mdx)\<`Instruction`, `Instruction`\>\>

#### Note

this method is of type [OptionalArgsProcedureMethod](../../../procedures/types/interfaces/OptionalArgsProcedureMethod.mdx), which means you can call [affirmAsMediator.checkAuthorization](../../../procedures/types/interfaces/OptionalArgsProcedureMethod.mdx#checkauthorization) on it to see whether the signing Account and Identity have the required roles and permissions to run it

***

### details()

> **details**(): `Promise`\<[`InstructionDetails`](../types/type-aliases/InstructionDetails.mdx)\>

Defined in: [src/api/entities/Instruction/index.ts:543](https://github.com/PolymeshAssociation/polymesh-sdk/blob/bee6a2fe7a8ce5db42a6982e793782182cde2153/src/api/entities/Instruction/index.ts#L543)

Retrieve information specific to this Instruction

#### Returns

`Promise`\<[`InstructionDetails`](../types/type-aliases/InstructionDetails.mdx)\>

#### Note

uses middleware (if available) to retrieve information, otherwise directly queries from the chain

#### Throws

if
 - instruction does not exists
 - instruction is not yet processed by the middleware (when querying from middleware)
 - instruction is executed/rejected and was pruned from chain (when querying from chain)

***

### executeManually()

> **executeManually**(`args?`: [`ExecuteManualInstructionParams`](../../../procedures/types/interfaces/ExecuteManualInstructionParams.mdx), `opts?`: [`ProcedureOpts`](../../../procedures/types/interfaces/ProcedureOpts.mdx)): `Promise`\<[`GenericPolymeshTransaction`](../../../procedures/types/type-aliases/GenericPolymeshTransaction.mdx)\<`Instruction`, `Instruction`\>\>

Defined in: [src/api/entities/Instruction/index.ts:918](https://github.com/PolymeshAssociation/polymesh-sdk/blob/bee6a2fe7a8ce5db42a6982e793782182cde2153/src/api/entities/Instruction/index.ts#L918)

Executes an Instruction either of type `SettleManual` or a `Failed` instruction

#### Parameters

<table>
<thead>
<tr>
<th>Parameter</th>
<th>Type</th>
</tr>
</thead>
<tbody>
<tr>
<td>

`args?`

</td>
<td>

[`ExecuteManualInstructionParams`](../../../procedures/types/interfaces/ExecuteManualInstructionParams.mdx)

</td>
</tr>
<tr>
<td>

`opts?`

</td>
<td>

[`ProcedureOpts`](../../../procedures/types/interfaces/ProcedureOpts.mdx)

</td>
</tr>
</tbody>
</table>

#### Returns

`Promise`\<[`GenericPolymeshTransaction`](../../../procedures/types/type-aliases/GenericPolymeshTransaction.mdx)\<`Instruction`, `Instruction`\>\>

#### Note

this method is of type [OptionalArgsProcedureMethod](../../../procedures/types/interfaces/OptionalArgsProcedureMethod.mdx), which means you can call [executeManually.checkAuthorization](../../../procedures/types/interfaces/OptionalArgsProcedureMethod.mdx#checkauthorization) on it to see whether the signing Account and Identity have the required roles and permissions to run it

***

### exists()

> **exists**(): `Promise`\<`boolean`\>

Defined in: [src/api/entities/Instruction/index.ts:384](https://github.com/PolymeshAssociation/polymesh-sdk/blob/bee6a2fe7a8ce5db42a6982e793782182cde2153/src/api/entities/Instruction/index.ts#L384)

Determine whether this Instruction exists on chain (or existed and was pruned)

#### Returns

`Promise`\<`boolean`\>

#### Overrides

[`Entity`](../../Entity/classes/Entity.mdx).[`exists`](../../Entity/classes/Entity.mdx#exists)

***

### generateOffChainAffirmationReceipt()

> **generateOffChainAffirmationReceipt**(`args`: `object`): `Promise`\<[`OffChainAffirmationReceipt`](../../../procedures/types/interfaces/OffChainAffirmationReceipt.mdx)\>

Defined in: [src/api/entities/Instruction/index.ts:1264](https://github.com/PolymeshAssociation/polymesh-sdk/blob/bee6a2fe7a8ce5db42a6982e793782182cde2153/src/api/entities/Instruction/index.ts#L1264)

Generate an offchain affirmation receipt for a specific leg and UID

#### Parameters

<table>
<thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>

`args`

</td>
<td>

\{ `legId`: `BigNumber`; `metadata?`: `string`; `signer?`: `string` \| [`Account`](../../Account/classes/Account.mdx); `signerKeyRingType?`: [`SignerKeyRingType`](../../../procedures/types/enumerations/SignerKeyRingType.mdx); `uid`: `BigNumber`; \}

</td>
<td>

&hyphen;

</td>
</tr>
<tr>
<td>

`args.legId`

</td>
<td>

`BigNumber`

</td>
<td>

index of the offchain leg in this instruction

</td>
</tr>
<tr>
<td>

`args.metadata?`

</td>
<td>

`string`

</td>
<td>

(optional) metadata to be associated with the receipt

</td>
</tr>
<tr>
<td>

`args.signer?`

</td>
<td>

`string` \| [`Account`](../../Account/classes/Account.mdx)

</td>
<td>

(optional) Signer to be used to generate receipt signature. Defaults to signing Account associated with the SDK

</td>
</tr>
<tr>
<td>

`args.signerKeyRingType?`

</td>
<td>

[`SignerKeyRingType`](../../../procedures/types/enumerations/SignerKeyRingType.mdx)

</td>
<td>

(optional) keyring type of the signer. Defaults to 'Sr25519'

</td>
</tr>
<tr>
<td>

`args.uid`

</td>
<td>

`BigNumber`

</td>
<td>

UID of the receipt

</td>
</tr>
</tbody>
</table>

#### Returns

`Promise`\<[`OffChainAffirmationReceipt`](../../../procedures/types/interfaces/OffChainAffirmationReceipt.mdx)\>

***

### getAffirmations()

> **getAffirmations**(`paginationOpts?`: [`PaginationOptions`](../../types/interfaces/PaginationOptions.mdx) \| [`MiddlewarePaginationOptions`](../../types/interfaces/MiddlewarePaginationOptions.mdx)): `Promise`\<[`ResultSet`](../../types/interfaces/ResultSet.mdx)\<[`InstructionAffirmation`](../types/interfaces/InstructionAffirmation.mdx)\>\>

Defined in: [src/api/entities/Instruction/index.ts:579](https://github.com/PolymeshAssociation/polymesh-sdk/blob/bee6a2fe7a8ce5db42a6982e793782182cde2153/src/api/entities/Instruction/index.ts#L579)

Retrieve every authorization generated by this Instruction (status and authorizing Identity)

#### Parameters

<table>
<thead>
<tr>
<th>Parameter</th>
<th>Type</th>
</tr>
</thead>
<tbody>
<tr>
<td>

`paginationOpts?`

</td>
<td>

[`PaginationOptions`](../../types/interfaces/PaginationOptions.mdx) \| [`MiddlewarePaginationOptions`](../../types/interfaces/MiddlewarePaginationOptions.mdx)

</td>
</tr>
</tbody>
</table>

#### Returns

`Promise`\<[`ResultSet`](../../types/interfaces/ResultSet.mdx)\<[`InstructionAffirmation`](../types/interfaces/InstructionAffirmation.mdx)\>\>

#### Note

supports pagination.

#### Note

uses middleware (if available) to retrieve information, otherwise directly queries from the chain

#### Throws

if
 - instruction does not exists
 - instruction is executed/rejected and was pruned from chain (when querying from chain)

***

### getInvolvedPortfolios()

> **getInvolvedPortfolios**(`args`: `object`): `Promise`\<([`DefaultPortfolio`](../../DefaultPortfolio/classes/DefaultPortfolio.mdx) \| [`NumberedPortfolio`](../../NumberedPortfolio/classes/NumberedPortfolio.mdx))[]\>

Defined in: [src/api/entities/Instruction/index.ts:985](https://github.com/PolymeshAssociation/polymesh-sdk/blob/bee6a2fe7a8ce5db42a6982e793782182cde2153/src/api/entities/Instruction/index.ts#L985)

Retrieve all the involved portfolios in this Instruction where the given identity is a custodian of

#### Parameters

<table>
<thead>
<tr>
<th>Parameter</th>
<th>Type</th>
</tr>
</thead>
<tbody>
<tr>
<td>

`args`

</td>
<td>

\{ `did`: `string`; \}

</td>
</tr>
<tr>
<td>

`args.did`

</td>
<td>

`string`

</td>
</tr>
</tbody>
</table>

#### Returns

`Promise`\<([`DefaultPortfolio`](../../DefaultPortfolio/classes/DefaultPortfolio.mdx) \| [`NumberedPortfolio`](../../NumberedPortfolio/classes/NumberedPortfolio.mdx))[]\>

***

### getLegs()

> **getLegs**(`paginationOpts?`: [`PaginationOptions`](../../types/interfaces/PaginationOptions.mdx) \| [`MiddlewarePaginationOptions`](../../types/interfaces/MiddlewarePaginationOptions.mdx)): `Promise`\<[`ResultSet`](../../types/interfaces/ResultSet.mdx)\<[`Leg`](../types/type-aliases/Leg.mdx)\>\>

Defined in: [src/api/entities/Instruction/index.ts:768](https://github.com/PolymeshAssociation/polymesh-sdk/blob/bee6a2fe7a8ce5db42a6982e793782182cde2153/src/api/entities/Instruction/index.ts#L768)

Retrieve all legs of this Instruction

#### Parameters

<table>
<thead>
<tr>
<th>Parameter</th>
<th>Type</th>
</tr>
</thead>
<tbody>
<tr>
<td>

`paginationOpts?`

</td>
<td>

[`PaginationOptions`](../../types/interfaces/PaginationOptions.mdx) \| [`MiddlewarePaginationOptions`](../../types/interfaces/MiddlewarePaginationOptions.mdx)

</td>
</tr>
</tbody>
</table>

#### Returns

`Promise`\<[`ResultSet`](../../types/interfaces/ResultSet.mdx)\<[`Leg`](../types/type-aliases/Leg.mdx)\>\>

#### Note

supports pagination

#### Note

uses middleware (if available) to retrieve information, otherwise directly queries from the chain

#### Throws

if
 - instruction does not exists
 - instruction is not yet processed by the middleware (when querying from middleware)
 - instruction is executed/rejected and was pruned from chain (when querying from chain)

***

### getLockedInfo()

> **getLockedInfo**(): `Promise`\<[`InstructionLockedInfo`](../types/interfaces/InstructionLockedInfo.mdx)\>

Defined in: [src/api/entities/Instruction/index.ts:296](https://github.com/PolymeshAssociation/polymesh-sdk/blob/bee6a2fe7a8ce5db42a6982e793782182cde2153/src/api/entities/Instruction/index.ts#L296)

Retrieve whether the Instruction is locked for execution on chain

#### Returns

`Promise`\<[`InstructionLockedInfo`](../types/interfaces/InstructionLockedInfo.mdx)\>

***

### getMediators()

> **getMediators**(): `Promise`\<[`MediatorAffirmation`](../types/type-aliases/MediatorAffirmation.mdx)[]\>

Defined in: [src/api/entities/Instruction/index.ts:1037](https://github.com/PolymeshAssociation/polymesh-sdk/blob/bee6a2fe7a8ce5db42a6982e793782182cde2153/src/api/entities/Instruction/index.ts#L1037)

Returns the mediators for the Instruction, along with their affirmation status

#### Returns

`Promise`\<[`MediatorAffirmation`](../types/type-aliases/MediatorAffirmation.mdx)[]\>

#### Note

uses middleware (if available) to retrieve information, otherwise directly queries from the chain

#### Throws

if
 - instruction does not exists
 - instruction is not yet processed by the middleware (when querying from middleware)
 - instruction is executed/rejected and was pruned from chain (when querying from chain)

***

### getOffChainAffirmationForLeg()

> **getOffChainAffirmationForLeg**(`args`: `object`): `Promise`\<[`AffirmationStatus`](../types/enumerations/AffirmationStatus.mdx)\>

Defined in: [src/api/entities/Instruction/index.ts:1182](https://github.com/PolymeshAssociation/polymesh-sdk/blob/bee6a2fe7a8ce5db42a6982e793782182cde2153/src/api/entities/Instruction/index.ts#L1182)

Returns affirmation status for a specific offchain leg in this Instruction

#### Parameters

<table>
<thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>

`args`

</td>
<td>

\{ `legId`: `BigNumber`; \}

</td>
<td>

&hyphen;

</td>
</tr>
<tr>
<td>

`args.legId`

</td>
<td>

`BigNumber`

</td>
<td>

index of the leg whose affirmation status is to be fetched

</td>
</tr>
</tbody>
</table>

#### Returns

`Promise`\<[`AffirmationStatus`](../types/enumerations/AffirmationStatus.mdx)\>

#### Note

uses middleware (if available) to retrieve information, otherwise directly queries from the chain

#### Throws

if
 - instruction does not exists
 - legId provided is not an off-chain leg
 - instruction is not yet processed by the middleware (when querying from middleware)
 - instruction is executed/rejected and was pruned from chain (when querying from chain)

***

### getOffChainAffirmations()

> **getOffChainAffirmations**(): `Promise`\<[`OffChainAffirmation`](../types/interfaces/OffChainAffirmation.mdx)[]\>

Defined in: [src/api/entities/Instruction/index.ts:1117](https://github.com/PolymeshAssociation/polymesh-sdk/blob/bee6a2fe7a8ce5db42a6982e793782182cde2153/src/api/entities/Instruction/index.ts#L1117)

Returns affirmation statuses for offchain legs in this Instruction

#### Returns

`Promise`\<[`OffChainAffirmation`](../types/interfaces/OffChainAffirmation.mdx)[]\>

#### Note

uses middleware (if available) to retrieve information, otherwise directly queries from the chain

#### Throws

if
 - instruction does not exists
 - instruction is not yet processed by the middleware (when querying from middleware)
 - instruction is executed/rejected and was pruned from chain (when querying from chain)

***

### getPendingAffirmationCount()

> **getPendingAffirmationCount**(): `Promise`\<`BigNumber`\>

Defined in: [src/api/entities/Instruction/index.ts:254](https://github.com/PolymeshAssociation/polymesh-sdk/blob/bee6a2fe7a8ce5db42a6982e793782182cde2153/src/api/entities/Instruction/index.ts#L254)

Get the number of affirmations pending before instruction can be executed

#### Returns

`Promise`\<`BigNumber`\>

#### Note

The count is returned as 0 for pruned instructions as well

***

### getStatus()

> **getStatus**(): `Promise`\<[`InstructionStatusResult`](../types/type-aliases/InstructionStatusResult.mdx)\>

Defined in: [src/api/entities/Instruction/index.ts:813](https://github.com/PolymeshAssociation/polymesh-sdk/blob/bee6a2fe7a8ce5db42a6982e793782182cde2153/src/api/entities/Instruction/index.ts#L813)

Retrieve current status of this Instruction

#### Returns

`Promise`\<[`InstructionStatusResult`](../types/type-aliases/InstructionStatusResult.mdx)\>

#### Note

uses the middlewareV2

***

### isEqual()

> **isEqual**(`entity`: [`Entity`](../../Entity/classes/Entity.mdx)\<`unknown`, `unknown`\>): `boolean`

Defined in: [src/api/entities/Entity.ts:61](https://github.com/PolymeshAssociation/polymesh-sdk/blob/bee6a2fe7a8ce5db42a6982e793782182cde2153/src/api/entities/Entity.ts#L61)

Determine whether this Entity is the same as another one

#### Parameters

<table>
<thead>
<tr>
<th>Parameter</th>
<th>Type</th>
</tr>
</thead>
<tbody>
<tr>
<td>

`entity`

</td>
<td>

[`Entity`](../../Entity/classes/Entity.mdx)\<`unknown`, `unknown`\>

</td>
</tr>
</tbody>
</table>

#### Returns

`boolean`

#### Inherited from

[`Entity`](../../Entity/classes/Entity.mdx).[`isEqual`](../../Entity/classes/Entity.mdx#isequal)

***

### isExecuted()

> **isExecuted**(): `Promise`\<`boolean`\>

Defined in: [src/api/entities/Instruction/index.ts:223](https://github.com/PolymeshAssociation/polymesh-sdk/blob/bee6a2fe7a8ce5db42a6982e793782182cde2153/src/api/entities/Instruction/index.ts#L223)

Retrieve whether the Instruction has already been executed and pruned from
  the chain.

#### Returns

`Promise`\<`boolean`\>

***

### isPending()

> **isPending**(): `Promise`\<`boolean`\>

Defined in: [src/api/entities/Instruction/index.ts:275](https://github.com/PolymeshAssociation/polymesh-sdk/blob/bee6a2fe7a8ce5db42a6982e793782182cde2153/src/api/entities/Instruction/index.ts#L275)

Retrieve whether the Instruction is still pending on chain

#### Returns

`Promise`\<`boolean`\>

***

### lockForExecution()

> **lockForExecution**(`opts?`: [`ProcedureOpts`](../../../procedures/types/interfaces/ProcedureOpts.mdx)): `Promise`\<[`GenericPolymeshTransaction`](../../../procedures/types/type-aliases/GenericPolymeshTransaction.mdx)\<`Instruction`, `Instruction`\>\>

Defined in: [src/api/entities/Instruction/index.ts:935](https://github.com/PolymeshAssociation/polymesh-sdk/blob/bee6a2fe7a8ce5db42a6982e793782182cde2153/src/api/entities/Instruction/index.ts#L935)

Locks an Instruction of type `SettleAfterLock` for execution. Only a mediator of the instruction can lock the instruction.

#### Parameters

<table>
<thead>
<tr>
<th>Parameter</th>
<th>Type</th>
</tr>
</thead>
<tbody>
<tr>
<td>

`opts?`

</td>
<td>

[`ProcedureOpts`](../../../procedures/types/interfaces/ProcedureOpts.mdx)

</td>
</tr>
</tbody>
</table>

#### Returns

`Promise`\<[`GenericPolymeshTransaction`](../../../procedures/types/type-aliases/GenericPolymeshTransaction.mdx)\<`Instruction`, `Instruction`\>\>

#### Note

An Instruction can only be locked if
 - it has been affirmed by all parties
 - it is pending or has failed at least one time
 - all mediator affirmations are valid
 - all assets are in allowed venue list
 - all senders have the right amount of assets being transferred
 - all senders and receivers are compliant and have valid CDD claims
 - all assets' statistics are still valid
 - there are no frozen assets

#### Throws

if any of the above conditions are not met

#### Note

this method is of type [NoArgsProcedureMethod](../../../procedures/types/interfaces/NoArgsProcedureMethod.mdx), which means you can call [lockForExecution.checkAuthorization](../../../procedures/types/interfaces/NoArgsProcedureMethod.mdx#checkauthorization) on it to see whether the signing Account and Identity have the required roles and permissions to run it

***

### onStatusChange()

> **onStatusChange**(`callback`: [`SubCallback`](../../types/type-aliases/SubCallback.mdx)\<[`InstructionStatus`](../types/enumerations/InstructionStatus.mdx)\>): `Promise`\<[`UnsubCallback`](../../types/type-aliases/UnsubCallback.mdx)\>

Defined in: [src/api/entities/Instruction/index.ts:350](https://github.com/PolymeshAssociation/polymesh-sdk/blob/bee6a2fe7a8ce5db42a6982e793782182cde2153/src/api/entities/Instruction/index.ts#L350)

Retrieve current status of the Instruction. This can be subscribed to know if instruction fails

#### Parameters

<table>
<thead>
<tr>
<th>Parameter</th>
<th>Type</th>
</tr>
</thead>
<tbody>
<tr>
<td>

`callback`

</td>
<td>

[`SubCallback`](../../types/type-aliases/SubCallback.mdx)\<[`InstructionStatus`](../types/enumerations/InstructionStatus.mdx)\>

</td>
</tr>
</tbody>
</table>

#### Returns

`Promise`\<[`UnsubCallback`](../../types/type-aliases/UnsubCallback.mdx)\>

#### Note

can be subscribed to, if connected to node using a web socket

#### Note

current status as `Executed` means that the Instruction has been executed/rejected and pruned from
  the chain.

***

### reject()

> **reject**(`args?`: [`RejectInstructionParams`](../../../procedures/types/type-aliases/RejectInstructionParams.mdx), `opts?`: [`ProcedureOpts`](../../../procedures/types/interfaces/ProcedureOpts.mdx)): `Promise`\<[`GenericPolymeshTransaction`](../../../procedures/types/type-aliases/GenericPolymeshTransaction.mdx)\<`Instruction`, `Instruction`\>\>

Defined in: [src/api/entities/Instruction/index.ts:884](https://github.com/PolymeshAssociation/polymesh-sdk/blob/bee6a2fe7a8ce5db42a6982e793782182cde2153/src/api/entities/Instruction/index.ts#L884)

Reject this instruction

#### Parameters

<table>
<thead>
<tr>
<th>Parameter</th>
<th>Type</th>
</tr>
</thead>
<tbody>
<tr>
<td>

`args?`

</td>
<td>

[`RejectInstructionParams`](../../../procedures/types/type-aliases/RejectInstructionParams.mdx)

</td>
</tr>
<tr>
<td>

`opts?`

</td>
<td>

[`ProcedureOpts`](../../../procedures/types/interfaces/ProcedureOpts.mdx)

</td>
</tr>
</tbody>
</table>

#### Returns

`Promise`\<[`GenericPolymeshTransaction`](../../../procedures/types/type-aliases/GenericPolymeshTransaction.mdx)\<`Instruction`, `Instruction`\>\>

#### Note

reject on `SettleOnAffirmation` will execute the settlement and it will fail immediately.

#### Note

reject on `SettleOnBlock` behaves just like unauthorize

#### Note

reject on `SettleManual` behaves just like unauthorize

#### Note

this method is of type [OptionalArgsProcedureMethod](../../../procedures/types/interfaces/OptionalArgsProcedureMethod.mdx), which means you can call [reject.checkAuthorization](../../../procedures/types/interfaces/OptionalArgsProcedureMethod.mdx#checkauthorization) on it to see whether the signing Account and Identity have the required roles and permissions to run it

***

### rejectAsMediator()

> **rejectAsMediator**(`opts?`: [`ProcedureOpts`](../../../procedures/types/interfaces/ProcedureOpts.mdx)): `Promise`\<[`GenericPolymeshTransaction`](../../../procedures/types/type-aliases/GenericPolymeshTransaction.mdx)\<`Instruction`, `Instruction`\>\>

Defined in: [src/api/entities/Instruction/index.ts:903](https://github.com/PolymeshAssociation/polymesh-sdk/blob/bee6a2fe7a8ce5db42a6982e793782182cde2153/src/api/entities/Instruction/index.ts#L903)

Reject this instruction as a mediator

#### Parameters

<table>
<thead>
<tr>
<th>Parameter</th>
<th>Type</th>
</tr>
</thead>
<tbody>
<tr>
<td>

`opts?`

</td>
<td>

[`ProcedureOpts`](../../../procedures/types/interfaces/ProcedureOpts.mdx)

</td>
</tr>
</tbody>
</table>

#### Returns

`Promise`\<[`GenericPolymeshTransaction`](../../../procedures/types/type-aliases/GenericPolymeshTransaction.mdx)\<`Instruction`, `Instruction`\>\>

#### Note

reject on `SettleOnAffirmation` will execute the settlement and it will fail immediately.

#### Note

reject on `SettleOnBlock` behaves just like unauthorize

#### Note

reject on `SettleManual` behaves just like unauthorize

#### Note

this method is of type [NoArgsProcedureMethod](../../../procedures/types/interfaces/NoArgsProcedureMethod.mdx), which means you can call [rejectAsMediator.checkAuthorization](../../../procedures/types/interfaces/NoArgsProcedureMethod.mdx#checkauthorization) on it to see whether the signing Account and Identity have the required roles and permissions to run it

***

### toHuman()

> **toHuman**(): `string`

Defined in: [src/api/entities/Instruction/index.ts:978](https://github.com/PolymeshAssociation/polymesh-sdk/blob/bee6a2fe7a8ce5db42a6982e793782182cde2153/src/api/entities/Instruction/index.ts#L978)

Return the Instruction's ID

#### Returns

`string`

#### Overrides

[`Entity`](../../Entity/classes/Entity.mdx).[`toHuman`](../../Entity/classes/Entity.mdx#tohuman)

***

### withdraw()

> **withdraw**(`args?`: [`WithdrawInstructionParams`](../../../procedures/types/type-aliases/WithdrawInstructionParams.mdx), `opts?`: [`ProcedureOpts`](../../../procedures/types/interfaces/ProcedureOpts.mdx)): `Promise`\<[`GenericPolymeshTransaction`](../../../procedures/types/type-aliases/GenericPolymeshTransaction.mdx)\<`Instruction`, `Instruction`\>\>

Defined in: [src/api/entities/Instruction/index.ts:894](https://github.com/PolymeshAssociation/polymesh-sdk/blob/bee6a2fe7a8ce5db42a6982e793782182cde2153/src/api/entities/Instruction/index.ts#L894)

Withdraw affirmation from this instruction (unauthorize)

#### Parameters

<table>
<thead>
<tr>
<th>Parameter</th>
<th>Type</th>
</tr>
</thead>
<tbody>
<tr>
<td>

`args?`

</td>
<td>

[`WithdrawInstructionParams`](../../../procedures/types/type-aliases/WithdrawInstructionParams.mdx)

</td>
</tr>
<tr>
<td>

`opts?`

</td>
<td>

[`ProcedureOpts`](../../../procedures/types/interfaces/ProcedureOpts.mdx)

</td>
</tr>
</tbody>
</table>

#### Returns

`Promise`\<[`GenericPolymeshTransaction`](../../../procedures/types/type-aliases/GenericPolymeshTransaction.mdx)\<`Instruction`, `Instruction`\>\>

#### Note

this method is of type [OptionalArgsProcedureMethod](../../../procedures/types/interfaces/OptionalArgsProcedureMethod.mdx), which means you can call [withdraw.checkAuthorization](../../../procedures/types/interfaces/OptionalArgsProcedureMethod.mdx#checkauthorization) on it to see whether the signing Account and Identity have the required roles and permissions to run it

***

### withdrawAsMediator()

> **withdrawAsMediator**(`opts?`: [`ProcedureOpts`](../../../procedures/types/interfaces/ProcedureOpts.mdx)): `Promise`\<[`GenericPolymeshTransaction`](../../../procedures/types/type-aliases/GenericPolymeshTransaction.mdx)\<`Instruction`, `Instruction`\>\>

Defined in: [src/api/entities/Instruction/index.ts:913](https://github.com/PolymeshAssociation/polymesh-sdk/blob/bee6a2fe7a8ce5db42a6982e793782182cde2153/src/api/entities/Instruction/index.ts#L913)

Withdraw affirmation from this instruction as a mediator (unauthorize)

#### Parameters

<table>
<thead>
<tr>
<th>Parameter</th>
<th>Type</th>
</tr>
</thead>
<tbody>
<tr>
<td>

`opts?`

</td>
<td>

[`ProcedureOpts`](../../../procedures/types/interfaces/ProcedureOpts.mdx)

</td>
</tr>
</tbody>
</table>

#### Returns

`Promise`\<[`GenericPolymeshTransaction`](../../../procedures/types/type-aliases/GenericPolymeshTransaction.mdx)\<`Instruction`, `Instruction`\>\>

#### Note

this method is of type [NoArgsProcedureMethod](../../../procedures/types/interfaces/NoArgsProcedureMethod.mdx), which means you can call [withdrawAsMediator.checkAuthorization](../../../procedures/types/interfaces/NoArgsProcedureMethod.mdx#checkauthorization) on it to see whether the signing Account and Identity have the required roles and permissions to run it

***

### generateUuid()

> `static` **generateUuid**\<`Identifiers`\>(`identifiers`: `Identifiers`): `string`

Defined in: [src/api/entities/Entity.ts:14](https://github.com/PolymeshAssociation/polymesh-sdk/blob/bee6a2fe7a8ce5db42a6982e793782182cde2153/src/api/entities/Entity.ts#L14)

Generate the Entity's UUID from its identifying properties

#### Type Parameters

<table>
<thead>
<tr>
<th>Type Parameter</th>
</tr>
</thead>
<tbody>
<tr>
<td>

`Identifiers`

</td>
</tr>
</tbody>
</table>

#### Parameters

<table>
<thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>

`identifiers`

</td>
<td>

`Identifiers`

</td>
<td>

</td>
</tr>
</tbody>
</table>

#### Returns

`string`

#### Inherited from

[`Entity`](../../Entity/classes/Entity.mdx).[`generateUuid`](../../Entity/classes/Entity.mdx#generateuuid)

***

### unserialize()

> `static` **unserialize**\<`Identifiers`\>(`serialized`: `string`): `Identifiers`

Defined in: [src/api/entities/Entity.ts:23](https://github.com/PolymeshAssociation/polymesh-sdk/blob/bee6a2fe7a8ce5db42a6982e793782182cde2153/src/api/entities/Entity.ts#L23)

Unserialize a UUID into its Unique Identifiers

#### Type Parameters

<table>
<thead>
<tr>
<th>Type Parameter</th>
</tr>
</thead>
<tbody>
<tr>
<td>

`Identifiers`

</td>
</tr>
</tbody>
</table>

#### Parameters

<table>
<thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>

`serialized`

</td>
<td>

`string`

</td>
<td>

UUID to unserialize

</td>
</tr>
</tbody>
</table>

#### Returns

`Identifiers`

#### Inherited from

[`Entity`](../../Entity/classes/Entity.mdx).[`unserialize`](../../Entity/classes/Entity.mdx#unserialize)
